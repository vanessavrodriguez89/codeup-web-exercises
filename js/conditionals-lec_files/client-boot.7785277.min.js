(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+Sjy":function(e,t,r){"use strict";r.d(t,"h",function(){return O}),r.d(t,"g",function(){return g}),r.d(t,"e",function(){return v}),r.d(t,"f",function(){return y}),r.d(t,"a",function(){return I}),r.d(t,"b",function(){return S}),r.d(t,"c",function(){return w}),r.d(t,"d",function(){return j});var n=r("vJtL"),a=r("Z3Pq"),o=r("peh1"),i=r("IniL"),s=r("s4P+"),c=r("ayyL"),d=r("D6w7"),l=r("v3s2"),u=r("CnUw"),_=r("4c9C"),p=r("v5z3"),m=r("kcos"),f=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(l.a)(e),isExcludedFromSearch:()=>!0},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(l.a)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(i.k)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(d.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(c.x)(e)},{path:"apps",id:"Papps"},{path:"activity-page",id:"Pactivity"},{path:"saved-page",id:"Psaved"},{path:"browse-files",id:"Pbrowse-files"},{path:"browse-people",id:"Pbrowse-people"},{path:"browse-channels",id:"Pbrowse-channels"},{path:"browse-user-groups",id:"Pbrowse-user-groups"},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.a)(e)},{path:p.f.TeamName,id:p.e.TeamName,isEnabled:e=>Object(_.d)(e)},{path:p.f.Channels,id:p.e.Channels,isEnabled:e=>Object(_.d)(e)},{path:p.f.Invites,id:p.e.Invites,isEnabled:e=>Object(_.d)(e)},{path:"recent",id:"Precent",isEnabled:e=>Object(m.e)(e)}],b=Object(a.a)(f,"id"),h=Object(a.a)(f,"path");h.unreads.id;function O(e){return!!h[e]}function g(e){return!!b[e]}function v(e,t){return!!t&&(Object(n.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(s.b)().error("PAGES","Page "+t.id+" has an invalid isEnabled property - it needs to either be a function or undefined"),!1))}function y(e,t){return v(e,w(t))}function I(){return f}var S=Object(o.createSelector)(I().map(e=>t=>v(t,e)),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return I().filter((e,r)=>t[r])});function w(e){return b[e]}function j(e){return h[e]}},"+cPl":function(e,t,r){"use strict";r.d(t,"e",function(){return O}),r.d(t,"a",function(){return g}),r.d(t,"f",function(){return I}),r.d(t,"b",function(){return S}),r.d(t,"d",function(){return w}),r.d(t,"c",function(){return j});var n=r("rePB"),a=r("Ff2n"),o=r("Bw5p"),i=r("7EGn"),s=r("4Z3G"),c=r("aK/h"),d=r("2XU3"),l=r("UjNr"),u=r("s4P+"),_=r("QOs+"),p=r("6jsb"),m=r("IniL"),f=r("5v1V");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=Object(_.a)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var{pref:r,value:n=null,reason:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(d.b)({method:"team.prefs.set",args:{prefs:JSON.stringify({[r]:n})},reason:a})).catch(e=>{throw Object(u.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the pref "'+r+'"'),e})});O.meta={name:"setTeamPref",key:"fetchersPrefsApiSetTeamPref",description:"Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first"},O.propTypes={pref:c.default.string.isRequired,value:c.default.any,reason:c.default.string};var g=Object(_.a)("Set multiple team prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={method:"team.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleTeamPrefsByApi"};return e(Object(d.b)(n)).catch(e=>{throw Object(u.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});g.meta={name:"setMultipleTeamPrefs",key:"fetchersPrefsApiSetMultipleTeamPrefs",description:"Set multiple team prefs via the setPref API"},g.propTypes={prefs:c.default.object};var v=Object(_.a)("Get one or more named user prefs via API",function(e,t){var{prefs:r=[],reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.length?e(Object(d.b)({method:"users.prefs.get",args:{prefs:r.join(",")},reason:n})).then(e=>e.prefs).catch(()=>{Object(u.a)({getState:t}).error("PREFS","user.prefs.get failed to fetch the prefs",r)}):s.a.reject(new Error("No prefs were passed to getUserPrefsByApi."))});v.meta={name:"getUserPrefsByApi",key:"fetchersPrefsApiGetUserPrefsByApi",description:"Get one or more named user prefs via API"},v.propTypes={prefs:c.default.array.isRequired,reason:c.default.string.isRequired};var y=Object(p.b)("Trigger pref_change events for each of the preferences in the given payload",(e,t,r)=>{Object.keys(r).forEach(t=>{e(Object(f.c)({type:"pref_change",name:t,value:r[t]}))})});y.meta={name:"triggerDegradedModePrefChangeEvents",key:"fetchersPrefsApiTriggerDegradedModePrefChangeEvents",description:"Trigger pref_change events for each of the preferences in the given payload"},y.propTypes=c.default.object.isRequired;var I=Object(_.a)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pref:n,value:o}=r,i=Object(a.a)(r,["pref","value"]),s=t(),c={method:"users.prefs.set",args:h({name:n,value:o},i),reason:"prefs-api/setUserPrefByApi"};return Object(m.k)(s,"feature_offline_mode")?e(Object(l.a)(c)).tap(()=>{e(y({[n]:o}))}):e(Object(d.b)(c)).tap(t=>e(y({[n]:t.prefs[n]}))).catch(e=>{throw Object(u.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the pref "'+n+'"'),e})});I.meta={name:"setUserPref",key:"fetchersPrefsApiSetUserPref",description:"Set a pref via the setPref API, updating local prefs optimistically first"},I.propTypes={pref:c.default.string.isRequired,value:c.default.any};var S=Object(_.a)("Set multiple prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t(),a={method:"users.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleUserPrefsByApi"};return Object(m.k)(n,"feature_offline_mode")?e(Object(l.a)(a)).tap(()=>e(y(r))):e(Object(d.b)(a)).tap(t=>{var n=t&&t.prefs?t.prefs:r;e(y(Object(o.a)(n,Object.keys(r))))}).catch(e=>{throw Object(u.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});S.meta={name:"setMultipleUserPrefs",key:"fetchersPrefsApiSetMultipleUserPrefs",description:"Set multiple prefs via the setPref API"},S.propTypes={prefs:c.default.object};var w=Object(_.a)("Set a global notification pref via the users.prefs.setNotifications API",function(e,t){var{name:r,value:n,sync:a=!1,reason:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=t(),c={method:"users.prefs.setNotifications",args:{name:r,value:n,global:!0,sync:a},reason:o};return Object(m.k)(s,"feature_offline_mode")?e(Object(l.a)(c)).tap(()=>{"global_keywords"===r&&e(y({highlight_words:n}))}):e(Object(d.b)(c)).tap(t=>{t&&t.all_notifications_prefs&&(e(y({all_notifications_prefs:JSON.stringify(t.all_notifications_prefs)})),"global_keywords"===r&&Object(i.a)(t.all_notifications_prefs,"global.global_keywords")&&e(y({highlight_words:t.all_notifications_prefs.global.global_keywords})))}).catch(e=>{throw Object(u.a)({getState:t}).error("PREFS",'users.prefs.setNotifications failed to update the pref "'+r+'"'),e})});w.meta={name:"setNotificationsGlobalPref",key:"fetchersPrefsApiSetNotificationsGlobalPref",description:"Set a global notification pref via the users.prefs.setNotifications API"},w.propTypes={name:c.default.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:c.default.oneOfType([c.default.string,c.default.number,c.default.bool]).isRequired,sync:c.default.bool,reason:c.default.string};var j=Object(_.a)("Calls users.prefs.setNotifications endpoint",(e,t,r)=>{var{name:n,value:a,channelId:o,sync:i=!1,reason:s="users-prefs-set-notifications"}=r,c={method:"users.prefs.setNotifications",args:{name:n,value:a,channel_id:o,global:!1,sync:i},reason:s};return Object(m.k)(t(),"feature_offline_mode")?e(Object(l.a)(c)):e(Object(d.b)(c))});j.meta={name:"setNotificationsChannelOverride",key:"fetchersPrefsApiSetNotificationsChannelOverride",description:"Calls users.prefs.setNotifications endpoint"},j.propTypes={name:c.default.string.isRequired,value:c.default.any.isRequired,channelId:c.default.string.isRequired,sync:c.default.bool,reason:c.default.string}},"0QyR":function(e,t,r){"use strict";r.d(t,"b",function(){return te}),r.d(t,"a",function(){return Z});var n=r("rePB"),a=r("Ff2n"),o=r("9oTK"),i=r("3Hq1"),s=r("CpTu"),c=r("owWc"),d=r("4Z3G"),l=r("1PKr"),u=r("Omjo"),_=r("Lg4S"),p=r("HDs8"),m=r("0oUp"),f=r("VL9c"),b=r("1j8a"),h=15e3,O=null,g=null,v=0,y=10,I=1e3;function S(){return g||(g=function e(){return Object(m.a)().catch(()=>v>y?d.a.reject(new Error("boot_exceeded_maximum_network_retries")):new d.a(t=>{clearTimeout(O),O=setTimeout(()=>{v+=1,t(e())},I)}))}().finally(()=>{clearTimeout(O),O=null,g=null})),g}function w(){var e,{maxTimePausedMs:t=h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={online:!0},n=()=>{r.online=!1,e=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},t)},a=()=>{r.online=!0,window.clearTimeout(e),e=void 0},o={apiQ:new p.a({isOnline:()=>r.online,reconnectClient:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),S().then(t).catch(()=>{throw new b.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:n,setOnline:a}),reconnectService:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),Object(f.a)().then(t).catch(()=>{throw new b.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:n,setOnline:a})}),q:function(){return o.apiQ&&o.apiQ.q(...arguments)},stop:()=>{o.apiQ.stop(),o.apiQ.clearStatsInterval(),delete o.apiQ,o.apiQ=void 0,window.clearTimeout(e),e=void 0}};return o}var j=r("Gogr"),A=r("VHGx"),E=1e3;var T=3456e5;var P=r("IbTH"),k=r("tYiI"),R=r("fujP"),D=r("HLHh"),C=r("4ULK"),N=r("nOCT"),L=r("s4P+"),U=r("UioL");function M(){return(M=Object(o.coroutine)(function*(){var e,t,{teamId:r,userId:n,forceAPI:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object(L.a)({teamId:r});if(a)return o.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){var t=Object(L.a)({teamId:e}),r=Object(N.c)(),n=Object(j.e)(e,"versionDataTs");return t.info("BOOT","Minimum supported data version is "+r+"; currently on "+n),!n||n<r}(r))return o.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(C.a)(r),!1;if(!Object(D.a)())return o.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;try{e=yield Object(U.a)({teamId:r,userId:n})}catch(i){return o.error("BOOT","Unable to get get stored state from IndexedDB",i),!1}return!(t=e)||Object(R.a)(t.bootData)?(o.info("BOOT","Unable to find stored state"),!1):e})).apply(this,arguments)}var W=r("btH0"),B=r("Pw4T"),F=r("fitI"),x=r("jr0b"),G=r("+Sjy"),H=r("Yd+W");function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var q=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r("L6kU").a,{feature_classic_nav:!0,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_inputs:!0,feature_modern_profile_flexpane:!0,feature_sonic_pins:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_sonic_esc_creation:!0});function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Q=e=>!(!e||!e.is_im),X=e=>!(!e||!e.is_mpim),J=e=>Q(e)&&e.user,z=e=>X(e)&&e.members;function Z(){return $.apply(this,arguments)}function $(){return($=Object(o.coroutine)(function*(){var e,{teamId:t,teamToken:r,userId:n,shouldSetFocus:a,routeInfo:o=null,forceAPI:i=!1,bootQueue:c=w(),bootedOffline:l,reason:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=yield function(){return M.apply(this,arguments)}({teamId:t,userId:n,forceAPI:i}),f=!!m;if(f&&((e=Object(j.c)("lastColdBootTs"))&&Date.now()-e>T)&&!l&&(yield A.b.fetch({url:"/api/api.test",timeout:E}).then(e=>{var{ok:t}=JSON.parse(e);return!0===t}).catch(e=>(Object(u.a)(e),!1)))&&(f=!1,Object(B.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),f)return Object(u.b)("BOOT","("+t+") Booting with persisted store"),{isWarmBooting:!0,bootData:m};c.apiQ.assignApiCallThreshold(Object(_.c)(a));var b=[oe({bootQueue:c,token:r,teamId:t,reason:p,userId:n}),Object(P.f)({bootQueue:c,overrides:q,shouldFetchCached:!0,teamId:t,token:r}),Object(P.e)({bootQueue:c,shouldFetchCached:!0,teamId:t,token:r,userId:n})],h=o&&o.params&&o.params.entityId;!h||Object(W.a)(h)||Object(G.h)(h)||Object(k.a)(h)?Object(W.a)(h)||Object(G.h)(h)||Object(k.a)(h)||(Object(u.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),b.push(ee({bootQueue:c,token:r,teamId:t}))):(Object(u.b)("BOOT","Booting into channel: "+h),b.push(ee({bootQueue:c,token:r,teamId:t,id:h})));var O,[g,v,y,I]=yield d.a.all(b),{appHomesData:S,selfData:R,teamData:D,teamPrefsData:C,userPrefsData:N,userGroupMembershipData:L,channelsData:U,membersToFetch:F,paidFeatures:x,emojiBootData:K,slashCommandsBootData:V,acceptTosUrl:Q,channelsPrefsData:X,isEurope:J}=g,z=(null==N?void 0:N.onboarding_state)>0,Z=!1,$=!1,te=null,re=null,ne=null;if(N&&!N.onboarding_complete&&!z)if("treatment"===(null==y?void 0:null===(O=y.newxp_4329)||void 0===O?void 0:O.group)&&(ne=yield Object(P.g)({bootQueue:c,token:r,teamId:t})),N.tractor_enabled){var ae=yield Object(P.m)({bootQueue:c,token:r,teamId:t});te=Object(s.a)(ae,e=>"account_setup"===e.type&&"team_creation"===e.subtype);var ie=Math.min(...ae.map(e=>e.date_start).filter(e=>e>0));Z=ae.length>0&&ae.filter(e=>e.state===H.e.Completed).length<ae.length&&(!ie||ie>Math.floor((Date.now()-6e5)/1e3))}else"none"!==N.welcome_place_state?"enabled"!==N.welcome_place_state||N.newxp_seen_help_message||($=!0):N.seen_welcome_2||($=!0);N&&"enabled"===N.welcome_place_state&&!z&&(re=yield Object(P.n)({bootQueue:c,token:r,teamId:t}));var se,ce,de=document.documentElement,le={app:"client",api_token:r,user_id:R&&R.id,version_ts:de&&de.dataset?de.dataset.versionTs:"unknown",version_uid:de&&de.dataset?de.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:Z,shouldStartJoinerOnboarding:$,teamCreationWorkflow:te,welcomePlaceOnboardingData:re,acceptTosUrl:Q,isEurope:J,onboardingData:ne};if(le.should_reload=g.should_reload,le.client_min_version=g.client_min_version,g.should_reload)return{bootData:{miscBootData:le}};if(R&&R.enterprise_user){var ue=Object(j.e)(t,"enterprise_api_token"),[_e,pe]=yield d.a.all([Object(P.c)({bootQueue:c,token:r,teamId:t}),Object(P.d)({bootQueue:c,token:ue,teamId:t})]);le.enterprise_id=R.enterprise_user.enterprise_id,le.page_needs_enterprise=!0,le.enterprise_api_token=ue,se=_e,ce=pe}if(I&&I.channelData){var me=U.findIndex(e=>e&&e.id===I.channelData.id);if(-1!==me){var fe=Y({},U[me],{},I.channelData);U.splice(me,1,fe)}}return c.stop(),{isWarmBooting:!1,bootData:{appHomesData:S,channelsData:U,membersToFetch:F,teamData:D,viewData:I||null,selfData:R,featureFlagData:v,experimentsData:y,miscBootData:le,userPrefsData:N,teamPrefsData:C,userGroupMembershipData:L,enterpriseData:se,enterprisePrefsData:ce,paidFeatures:x,emojiBootData:K,slashCommandsBootData:V,channelsPrefsData:X}}})).apply(this,arguments)}function ee(e){var{bootQueue:t,token:r,teamId:n,id:a=null}=e,o={token:r,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,no_members:!0,count:28};a&&(o.channel=a);var i=new l.b({method:"conversations.view",args:o,teamId:n});return t.q(i).then(e=>{var t=e.history.messages,r=e.channel||e.group||e.im,n=r&&r.id,a=e.history.channel_actions_count,o=Number.isInteger(a)?{channelId:n,count:a}:null;return{channelData:r,messagesData:{msgs:t,channelId:n,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:o}}).catch(e=>(Object(L.b)().error("BOOT","unable to fetch/format messages data",e),null))}function te(e){var{team:t,subteams:r,self:n,prefs:o,app_homes:s,paid_features:d,emoji_cache_ts:l,commands_cache_ts:u,can_manage_shared_channels:_,accept_tos_url:p,channels_prefs:m,should_reload:f,client_min_version:b,is_europe:h}=e,O=Object(a.a)(e,["team","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version","is_europe"]),g={};if(!Object(i.a)(f)&&(g.should_reload=f,g.client_min_version=b,f))return g;var v,y=Y({},t.prefs,{can_user_manage_shared_channels:_}),I=[...r.self],S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...e.channels||[],...e.ims||[],...e.mpims||[]],r=[];if(t.length)for(var{last_read:n={},channels_priority:a={},starred:o=[],is_open:i=[],thread_only_channels:s=[],read_only_channels:c=[]}=e,d=new Set(o),l=new Set(i),u=new Set(s),_=new Set(c),p=t.length,m=0;m<p;m++){var f=t[m],b=f.id;f.latest="0000000000.000000",f.is_member=!0,f.last_read=n[b],f.priority=a[b],f.is_starred=d.has(b),Q(f)||X(f)?f.is_open=l.has(b):(f.is_thread_only=u.has(b),f.is_read_only=_.has(b)),r.push(f)}return r}(Y({},O,{teamId:t.id})),w=(e.ims||[]).map(e=>J(e)),j=(v=e.mpims)?Object(c.a)(v,(e,t)=>{if(!t)return e;var r=z(t)||[];return e.push(...r),e},[]):[];return g=Y({},g,{selfData:n,teamData:t,teamPrefsData:y,userPrefsData:o,channelsData:S,appHomesData:s,membersToFetch:w.concat(j).filter((e,t,r)=>r.indexOf(e)===t),userGroupMembershipData:I,paidFeatures:d,emojiBootData:{cacheTs:l},slashCommandsBootData:{cacheTs:u},acceptTosUrl:p,channelsPrefsData:m,isEurope:h})}var re="cse-api",ne="cse-boot-api",ae=1;function oe(e){var{bootQueue:t,token:r,teamId:n,reason:a,userId:o}=e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(F.a)(),n=r.createTrace({traceName:re,tags:t,sampleRate:ae});if(!n||!n.traceFn)return Object(L.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return n.traceFn({name:ne,onError:(e,t)=>{var a={state:x.a.ERROR};t.status&&(a.status=t.status);t.message&&(a.message=t.message);t.data&&t.data.error&&(a.reason=t.data.error);e.addTags(a),e.close(),r.reportTrace(n)},onResolve:()=>{r.clearTrace(n)}},e)}(P.b.bind(this,{bootQueue:t,token:r,teamId:n,reason:a}),{teamId:n,userId:o,reason:a}).then(te)}},"0oUp":function(e,t,r){"use strict";var n=r("oTSI"),a=r("ifKl"),o=r("ZP0B"),i=r("4Z3G");var s=r("VHGx"),c=r("iYuT"),d=r("Z7Ay"),l=r("rWF5"),u=r("afo6"),_="NETWORK-CONNECTIVITY",p=Object(n.a)(()=>new u.a({testConnectivity:j,logLabel:_})),m=()=>p().waitForConnectivity(),f=(t.a=m,0),b=!1,h=!1,O=1e3,g=O,v=["https://a.slack-edge.com/f70ec/img/test_cdn_pixel.gif","https://b.slack-edge.com/f70ec/img/test_cdn_pixel.gif"],y=99,I=10,S=0,w=0;function j(){var e=!b&&!h&&f&&f%I==0&&(Object(l.k)()||Object(l.l)());if(!1===navigator.onLine&&!(e||f%100===y)){f+=1;var t=new Error("Browser says we\u2019re offline");return t.retryAfter=g,t.totalRetryAttempts=f,i.a.reject(t)}var r=S-(Date.now()-w);if(r>0){var n=new Error("Waiting on CDN full backoff. Waiting an additional "+r+"ms");return n.retryAfter=r,n.totalRetryAttempts=f,i.a.reject(n)}return w=Date.now(),A().tap(()=>{!1===navigator.onLine&&e&&(h=!0,A().tap(()=>{if(!1===navigator.onLine){Object(c.g)(_,"navigator.onLine appears to be untrustworthy; enabling workaround."),b=!0;try{Object.defineProperty(navigator,"onLine",{get:()=>!0})}catch(e){}}}).catch(a.a)),Object(c.e)(_,"Successfully fetched resources from the CDN. We\u2019re online!"),f=0}).catch(e=>{var t=new Error("Failed to fetch resources from the CDN");return S=Object(o.a)(e.map(e=>{return e&&e.retryAfter||O})),f+=1,t.totalRetryAttempts=f,t.retryAfter=g,i.a.reject(t)})}function A(){return i.a.any(v.map(e=>e+"?q="+(Date.now()*Math.random()).toString(36)).map(e=>s.b.fetch({url:e})))}Object(d.a)("waitForNetworkConnection",m)},"1zgd":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("rWF5"),a=r("Yd+W"),o=e=>(e.subtype!==a.f.EnableNotifications||!Object(n.l)())&&!(e.subtype===a.f.DownloadDesktopApp&&!Object(n.j)())},"4B0G":function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return a});var n={CANADA:"Canada",JAPAN:"Japan",MALAYSIA:"Malaysia",RUSSIAN_FEDERATION:"Russian Federation",SINGAPORE:"Singapore",SOUTH_AFRICA:"South Africa",SOUTH_KOREA:"Republic of Korea",SWITZERLAND:"Switzerland",UNITED_KINGDOM:"United Kingdom",UNITED_KINGDOM_UK:"United Kingdom (UK)",UNITED_STATES:"United States"},a={COMPANY_NAME_IS_REQUIRED:"company_name_is_required",STREET_IS_REQUIRED:"street_is_required",CITY_IS_REQUIRED:"city_is_required",POSTAL_CODE_IS_REQUIRED:"postal_code_is_required",ZIP_CODE_IS_REQUIRED:"zip_code_is_required",REGION_IS_REQUIRED:"region_is_required",STATE_IS_REQUIRED:"state_is_required",COUNTRY_IS_REQUIRED:"country_is_required",VAT_ID_IS_REQUIRED:"vat_id_is_required",TIN_ID_IS_REQUIRED:"tin_id_is_required",BRN_IS_REQUIRED:"brn_is_required",IS_BUSINESS_PURCHASE_IS_REQUIRED:"is_business_purchase_is_required",STREET_INVALID_CHARACTERS:"street_invalid_characters",CITY_INVALID_CHARACTERS:"city_invalid_characters",REGION_INVALID_CHARACTERS:"region_invalid_characters",STATE_INVALID_CHARACTERS:"state_invalid_characters",POSTAL_CODE_INVALID_CHARACTERS:"postal_code_invalid_characters",ZIP_CODE_INVALID_CHARACTERS:"zip_code_invalid_characters",ABN_ID_INVALID_CHARACTERS:"abn_id_invalid_characters",US_ZIP_CODE_INVALID_FORMAT:"us_zip_code_invalid_format",CANADA_POSTAL_CODE_INVALID_FORMAT:"canada_zip_code_invalid_format",ZIP_CODE_INVALID_API_ERROR:"zipcode_invalid_api_error",VAT_ID_INVALID_API_ERROR:"vat_id_invalid_api_error",VAT_ID_INPUT_ERROR:"vat_input_error",VAT_ID_INVALID_FORMAT:"vat_id_invalid_format",API_ERROR:"api_error",ABN_ID_INVALID_LENGTH:"abn_id_invalid_length",QST_ID_INVALID_FORMAT:"qst_id_invalid_format",TIN_ID_INVALID_LENGTH:"tin_id_invalid_length",BRN_INVALID_FORMAT:"brn_invalid_format",ADDRESS_INPUT_ERROR:"address_input_error",ERROR_UPDATING_BILLING_ADDRESS:"error_updating_billing_address",NO_PERMS:"no_perms",INVALID_AUTH:"invalid_auth",DEFAULT_ERROR:"default_error"},o={ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX:/^[a-zA-Z\xc0-\xff0-9-'-/.\s]+$/i,ALPHA_NUMERIC_WITH_DASH_REGEX:/^[A-Z0-9-\-\s]+$/i,ABN_ID_REGEX:/^(\d *?){11}$/i,QST_ID_TQ_REGEX:/^([0-9]){10}TQ([0-9]){4}$/i,QST_ID_NINE_NUM_REGEX:/^([0-9]){9}$/i,QST_ID_TEN_NUM_REGEX:/^([0-9]){10}$/i,QST_ID_NR_REGEX:/^NR([0-9]){8}$/i,US_POSTAL_CODE_FORMAT_REGEX:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/i,CANADA_POSTAL_CODE_FORMAT_REGEX:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1} *\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1}\d{1}$/i},i={COMPANY_NAME:"companyName",STREET:"street",SUITE:"suite",CITY:"city",REGION:"region",POSTAL_CODE:"postalCode",COUNTRY:"country",IS_BUSINESS_PURCHASE:"isBusinessPurchase",IS_VAT_AVAILABLE:"isVatIdAvailable",VAT_ID:"vatId",ABN_ID:"abnId",QST_ID:"qstId"},s={COMPANY_NAME:"",STREET:"",SUITE:"",CITY:"",REGION:"",POSTAL_CODE:"",COUNTRY:"",IS_BUSINESS_PURCHASE:!0,IS_VAT_AVAILABLE:!0,VAT_ID:"",ABN_ID:"",QST_ID:""}},"4c9C":function(e,t,r){"use strict";r.d(t,"b",function(){return A}),r.d(t,"f",function(){return E}),r.d(t,"g",function(){return T}),r.d(t,"d",function(){return P}),r.d(t,"e",function(){return k}),r.d(t,"a",function(){return R}),r.d(t,"c",function(){return D});var n=r("4Z3G"),a=r("aK/h"),o=r("zgq7"),i=r("6jsb"),s=r("oTSI"),c=53,d=new Map,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=d.get(t);r||(r=new Map,d.set(t,r));var n=r.get(e);return n||(n=Symbol(e),r.set(e,n)),n};function u(e){for(var t=new Array(c),r=e,n=0,a=0;r>0;a++)n=r%2,t[a]=!!n,r=(r-n)/2;return t}function _(e){for(var t=0,r=1,n=0;n<c;n++)t+=(e[n]?1:0)*r,r*=2;return t}var p=Object(s.a)((e,t)=>{for(var r=u(e),n=u(t),a=new Array(c),o=0;o<c;o++)a[o]=r[o]&&n[o];return _(a)},l),m=Object(s.a)((e,t)=>{for(var r=u(e),n=u(t),a=new Array(c),o=0;o<c;o++)a[o]=r[o]||n[o];return _(a)},l),f=Object(s.a)(e=>{for(var t=new Array(c),r=e,n=0,a=0;a<c;a++)n=r%2,t[a]=!n,r=(r-n)/2;return _(t)}),b=Object.freeze([...Array(c).keys()].reduce((e,t)=>(e["MASK_"+(t+1)]=2**t,e),{})),h=r("IniL"),O=r("XL7r"),g=r("s0HP"),v=r("+cPl"),y=r("yhG8"),I=r("s4P+"),S=r("kcos"),w=e=>Object(O.k)(e,"onboarding_state")||0,j=e=>{switch(e){case"setup_started":return b.MASK_1;case"setup_completed":return b.MASK_2;case"setup_step_channels":return b.MASK_3;case"setup_step_invites":return b.MASK_4;case"setup_channel_header_shown":return b.MASK_5;case"setup_invite_step_skipped":return b.MASK_30;case"welcome_task_1_complete":return b.MASK_6;case"welcome_task_2_complete":return b.MASK_7;case"welcome_task_3_complete":return b.MASK_28;case"welcome_task_4_complete":return b.MASK_29;case"welcome_task_complete":return b.MASK_8;case"announcements_task_1_complete":return b.MASK_9;case"announcements_task_2_complete":return b.MASK_10;case"announcements_task_complete":return b.MASK_11;case"project_task_1_complete":return b.MASK_12;case"project_task_2_complete":return b.MASK_13;case"project_task_complete":return b.MASK_14;case"brainstorming_task_1_complete":return b.MASK_15;case"brainstorming_task_2_complete":return b.MASK_16;case"brainstorming_task_complete":return b.MASK_17;case"sync_task_1_complete":return b.MASK_18;case"sync_task_2_complete":return b.MASK_19;case"sync_task_complete":return b.MASK_20;case"team_task_1_complete":return b.MASK_21;case"team_task_2_complete":return b.MASK_22;case"team_task_complete":return b.MASK_23;case"dm_task_1_complete":return b.MASK_24;case"dm_task_2_complete":return b.MASK_25;case"dm_task_complete":return b.MASK_26;case"onboarding_completed":return b.MASK_27;case"people_task_complete":return b.MASK_31;case"files_task_complete":return b.MASK_32;case"generic_task_complete":return b.MASK_33;case"generic_task_1_complete":return b.MASK_34;case"generic_task_2_complete":return b.MASK_35;case"generic_task_3_complete":return b.MASK_36;case"apps_task_1_complete":return b.MASK_37;case"apps_task_complete":return b.MASK_38;default:return 0}},A=Object(o.b)((e,t)=>{var r=j(t),n=w(e);return!!p(n,r)});A.meta={name:"getUserOnboardingPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetUserOnboardingPref"};var E=Object(i.b)("Set onboarding state pref from push event",(e,t,r)=>{r>w(t())&&e(Object(g.b)({pref:"onboarding_state",value:r}))});E.meta={name:"setOnboardingStatePref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetOnboardingStatePref",description:"Set onboarding state pref from push event"},E.propTypes=a.default.number;var T=Object(i.b)("Set a derived boolean pref via the setPref API, updating local prefs optimistically first",function(e,t){var{pref:r,value:a,retry:o=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o>2)return n.a.resolve();var i=((e,t,r)=>{var n=j(t),a=w(e);return r?m(a,n):p(a,f(n))})(t(),r,a),s={pref:"onboarding_state",value:i},c=Object(I.a)({getState:t,label:"USER_ONBOARDING"});return c.info("Applied "+r+": "+!!a+" to onboarding_state: "+i),o&&c.error("Applied "+r+": "+!!a+" to onboarding_state: "+i+", retry "+o),e(Object(g.b)(s)),e(Object(v.f)(s)).catch(()=>e(T({pref:r,value:a,retry:o+1})))});T.meta={name:"setUserOnboardingPrefByApi",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetUserOnboardingPrefByApi",description:"Set a derived boolean pref via the setPref API, updating local prefs optimistically first"},T.propTypes={pref:a.default.string.isRequired,value:a.default.any};var P=Object(o.b)(e=>Object(S.d)(e)&&Object(h.k)(e,"feature_setup_page_i18n")&&A(e,"setup_started")&&!A(e,"onboarding_completed"));P.meta={name:"inUserOnboardingExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperiment"};var k=Object(o.b)(e=>P(e)&&Object(h.k)(e,"feature_setup_page_i18n_two"));k.meta={name:"inUserOnboardingExperimentTwo",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperimentTwo"};var R=Object(o.b)((e,t,r)=>{var n,a=[...Object.values(y.e),y.c.GENERIC];if(t&&a.includes(t)&&(n=t+"_task_complete"),r&&"P"===r[0]){var o={PEOPLE:"Pbrowse-people",FILES:"Pbrowse-files",APPS:"Papps"};switch(r){case o.PEOPLE:n="people_task_complete";break;case o.FILES:n="files_task_complete";break;case o.APPS:n="apps_task_complete";break;default:return!0}}return A(e,n)});R.meta={name:"getChannelBannerPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetChannelBannerPref"};var D=Object(o.b)(e=>["welcome","team","project","brainstorming","announcements","sync","dm","people","files","generic","apps"].some(t=>A(e,t+"_task_complete")));D.meta={name:"hasCompletedTask",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedTask"}},"4v0o":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},"5MVR":function(e,t,r){"use strict";function n(e){try{return JSON.stringify(e).length}catch(t){return null}}r.d(t,"a",function(){return n})},"8Fba":function(e,t,r){"use strict";r.d(t,"i",function(){return n}),r.d(t,"h",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"n",function(){return d}),r.d(t,"o",function(){return l}),r.d(t,"k",function(){return u}),r.d(t,"m",function(){return _}),r.d(t,"l",function(){return p}),r.d(t,"p",function(){return m}),r.d(t,"c",function(){return f}),r.d(t,"b",function(){return b}),r.d(t,"j",function(){return h}),r.d(t,"g",function(){return O});var n={CHECKOUT_CALCULATOR_FOOTER:"checkout_calculator_footer",CHECKOUT_HEADER:"checkout_header",SIDEBAR_FOOTER:"sidebar_footer",TEAM_MENU_VISUAL_PROMO:"team_menu_visual_promo",TEAM_MENU_TEXT_PROMO:"team_menu_text_promo",MESSAGE_PANE:"message_pane",DUNNING_NOTICE:"dunning_notice",IN_PRODUCT_COACHMARK:"in_product_coachmark",LAUNCH_MODAL:"launch_modal",WELCOME_PLACE:"welcome_place",MESSAGE_ACTIONS:"message_actions",DM_CALL_BLOCK:"dm_call_block"},a={DISMISS:"dismiss"},o={DUNNING_DAY_1_BANNER:"dunning_day_1_banner",DUNNING_DAY_3_BANNER:"dunning_day_3_banner",DUNNING_DAY_7_OWNER_CARDHOLDER_BANNER:"dunning_day_7_owner_cardholder_banner",DUNNING_DAY_7_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_7_admin_billing_contacts_banner",DUNNING_DAY_14_OWNER_CARDHOLDER_BANNER:"dunning_day_14_owner_cardholder_banner",DUNNING_DAY_14_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_14_admin_billing_contacts_banner",DUNNING_DAY_21_BILLING_STAKEHOLDERS_BANNER:"dunning_day_21_billing_stakeholders_banner",DUNNING_DAY_21_ALL_USERS_BANNER:"dunning_day_21_all_users_banner"},i={REACTJI_AWARENESS_COACHMARK:"reactji_awareness_coachmark",MENTION_AWARENESS_INLINE_TIP:"mention_awareness_inline_tip"},s={TRIAL_LAST_DAY_MODAL:"trial_last_day_modal",TRIAL_DOWNGRADE_SURVEY:"trial_downgrade_survey"},c={PARTNER_PROMO:"partner_promo_checkout_calculator_footer"},d={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",DISCOUNT_PROMO:"discount_promo"},l={LIMIT_METER:"limit_meter"},u={JAPAN_SEND_BUTTON:"i18n_japan_beta_send_btn_banner",TENURED_TEAM_DISCOUNT_ONE_WEEK_LEFT:"one_week_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_ONE_DAY_LEFT:"one_day_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_AWARENESS:"tenured_discount_awareness_banner",EDUCATION_TEAM_DISCOUNT:"education_discount_promo_banner",LOCAL_DISCOUNT_AWARENESS:"local_discount_awareness_banner",ESC_TRIAL:"shared_channel_trial_banner",ESC_TRIAL_TWO_WEEKS_LEFT:"two_weeks_left_esc_trial_banner",ESC_TRIAL_ONE_WEEK_LEFT:"one_week_left_esc_trial_banner",ESC_TRIAL_THREE_DAYS_LEFT:"three_days_left_esc_trial_banner",TRIAL_SEVEN_DAYS_LEFT:"seven_days_left_trial_banner",TRIAL_THREE_DAYS_LEFT:"three_days_left_trial_banner",FILE_LIMIT_APPROACHING:"approaching_file_limit_banner",MESSAGE_LIMIT_ACTIVATION:"activation_msg_limit_banner",MESSAGE_LIMIT_APPROACHING:"approaching_msg_limit_banner",MESSAGE_LIMIT_JUST_REACHED:"just_reached_msg_limit_banner",MESSAGE_LIMIT_THIRTY_DAYS_AFTER:"thirty_days_after_msg_limit_banner",TEAM_CREATION_ACCOUNT_SETUP:"team_creation_account_setup_banner",PARTNER_PROMO:"partner_promo_BANNER",IN_PRODUCT_TRIAL:"in_prod_trial_banner",IN_PRODUCT_TRIAL_REMINDER:"in_prod_trial_reminder_banner"},_={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button",SIDEBAR_NOTIFICATION_SETTINGS_PROMPT:"sidebar_notification_settings_prompt",SIDEBAR_DOWNLOAD_APP_PROMPT:"sidebar_download_app_prompt"},p={BENEFITS_PAGE:"benefits_page"},m={REMOTE_WORK_BANNER:"remote_work_banner"},f={GROUP_CALLS_DISCOVERY_PROMPT:"group_calls_discovery_prompt"},b={discountPct:"discountPercent",noOfDaysLeft:"numDaysLeft",payDateNext:"expirationDate",planExpirationTs:"expirationTs",subtype:"promoSubType",renewalLevel:"planRenewalLevel"},h={QUICK_REACTIONS:"quick_reactions"},O="MEGAPHONE"},"9svP":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("Jnq/");function a(e,t,r){var a=e*Object(n.a)(t,r,!0);return Math.ceil(e+a)}},AjwY:function(e,t,r){"use strict";r.d(t,"f",function(){return i}),r.d(t,"e",function(){return d}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"c",function(){return p}),r.d(t,"g",function(){return m}),r.d(t,"i",function(){return f}),r.d(t,"j",function(){return b}),r.d(t,"k",function(){return O}),r.d(t,"h",function(){return g});var n=r("fujP"),a=r("nNoG"),o=(r("4B0G"),new a.b("pricing_plans"),{vat:"vat",sales_tax:"sales_tax",abn:"abn",jct:"jct",qst:"qst",sst:"sst",gst:"gst"}),i={monthly:"monthly",yearly:"yearly"},s=1,c=12,d={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"},compliance:{id:"compliance",name:"compliance"},enterprise:{id:"enterprise",name:"enterprise"}},l={CREDIT_CARD:"creditCard",INVOICE:"invoice",ACH:"ach"},u=(Object.values(l),"checkout/router"),_={PAID:"paid",FREE:"free"},p={LOCAL:"local_discount",TENURED_TEAM:"tenured_teams_discount",EDUCATION:"educational",NONPROFIT:"nonprofit",WFH_BUNDLE:"wfhbundle"},m={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial"},f=function(){var{planLevel:e,entryPoint:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="/plans";return e&&(e===d.standard.id?r+="/"+d.standard.name:e===d.plus.id&&(r+="/"+d.plus.name)),t&&(r+="?entry_point="+t),r},b=e=>{var t=(e=>{var t={};if(!Object(n.a)(e.tax)){var r=o.sales_tax;e.tax.tax_name?r=o[e.tax.tax_name.toLowerCase()]||o.sales_tax:e.tax.is_vat&&(r=o.vat),t={value:e.tax.sales_tax_amt,type:r,percentage:e.tax.tax_percentage||0}}return t})(e),r=e.credits?{currentCredits:e.credits.total_credits,creditsRemaining:e.credits.credits_remaining,creditsApplied:e.credits.credits_applied,proratedRefundCredits:e.prorated_refund,totalCreditsRemaining:e.credits.total_credits_remaining||0,totalCreditsApplied:e.credits.total_credits_applied||0}:{},a=e.billable_users?{billableActiveUsers:e.billable_users.billable_active_users,inactiveUsers:e.billable_users.inactive_users,zeroActiveUsers:e.billable_users.zero_active_users}:{},i=e.discount?{name:e.discount.name,amount:e.discount.amount,percentage:e.discount.percentage}:{};return{activePlanCost:{id:e.product_id,subtotal:e.subtotal,undiscountedSubtotal:e.undiscounted_subtotal,billableUsers:a,discount:i,tax:t,credits:r,totalRecurring:e.total_recurring,totalRecurringTax:e.recurring_tax_amt,totalDueToday:e.total_due_today,quotedTermEnd:e.quoted_term_end,paidSeats:e.paid_seats}}},h=e=>{var t="12m"===e.term?i.yearly:i.monthly,r="12m"===e.term?c:s;return{id:e.product_id,term:t,currency:e.currency,level:e.level,lengthOfTermInMonths:r,costPerMonth:e.cost_per_m,costPerTerm:e.cost_per_term,isInvoice:e.is_inv||!1,maxInvoiceSeats:e.max_invoice_seats,minInvoiceSeats:e.min_invoice_seats}},O=e=>{var t={};return Object.keys(e).forEach(r=>{var n=e[r];t[r]={[d.standard.id]:{[l.CREDIT_CARD]:{[i.monthly]:h(n.std_m),[i.yearly]:h(n.std_y)},[l.INVOICE]:{[i.yearly]:h(n.inv_std_y)}},[d.plus.id]:{[l.CREDIT_CARD]:{[i.monthly]:h(n.plus_m),[i.yearly]:h(n.plus_y)},[l.INVOICE]:{[i.yearly]:h(n.inv_plus_y)}},[d.compliance.id]:{[l.CREDIT_CARD]:{[i.yearly]:h(n.compliance_y)},[l.INVOICE]:{[i.yearly]:h(n.inv_compliance_y)}}}}),{availablePlans:t}},g=(e,t,r,n)=>{var{country:a,region:o,street:i,postalCode:s,isBusinessPurchase:c}=t;return[e,a,o,i,s,c,r,n].join("-")}},CXkB:function(e,t,r){"use strict";r.d(t,"d",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"a",function(){return p}),r.d(t,"c",function(){return m});var n=r("zgq7"),a=r("AjwY"),o=r("N4J5"),i=r("XL7r"),s=r("8Fba"),c=Object(n.b)((e,t)=>{var r;return(null==e?void 0:null===(r=e.megaphoneNotification)||void 0===r?void 0:r[t])||{}});c.meta={name:"selectMegaphoneNotification",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotification"};var d=Object(n.b)((e,t)=>c(e,t).notificationData||{});d.meta={name:"selectMegaphoneNotificationData",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationData"};var l=Object(n.b)((e,t)=>c(e,t).notificationName||null);l.meta={name:"selectMegaphoneNotificationName",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationName"};var u=Object(n.b)(e=>{var{planRenewalLevel:t,trialExpirationDate:r}=d(e,s.i.SIDEBAR_FOOTER);return t?a.g.PAID:r&&"0000-00-00"!==r?Object(o.a)(r)<=0?a.g.FREE_EXPIRED_TRIAL:a.g.IN_TRIAL:a.g.FREE_NO_TRIAL});u.meta={name:"selectTeamTrialState",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectTeamTrialState"};var _=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.hasSeenReactionTooltipThisSession)||!1});_.meta={name:"hasSeenReactionTooltipThisSession",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsHasSeenReactionTooltipThisSession"};var p=Object(n.b)(e=>{var t=Object(i.k)(e,"growth_all_banners_prefs");return(t=t?JSON.parse(t):{}).shared_channel_trial_banner_cta_last_ts||0});p.meta={name:"getSharedChannelTrialBannerCtaLastTs",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsGetSharedChannelTrialBannerCtaLastTs"};var m=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.megaphoneDataFetched)||!1});m.meta={name:"selectIsMegaphoneNotificationDataLoaded",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectIsMegaphoneNotificationDataLoaded"}},CnUw:function(e,t,r){"use strict";r.d(t,"c",function(){return c}),r.d(t,"d",function(){return d}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"e",function(){return _});var n=r("8Fba"),a=r("CXkB"),o=r("N4J5"),i=r("AjwY"),s=e=>Object(a.e)(e,n.i.SIDEBAR_FOOTER)===n.m.SIDEBAR_BENEFITS_TAB,c=e=>{var t=Object(a.f)(e),{trialStartDate:r}=Object(a.d)(e,n.i.SIDEBAR_FOOTER);return t===i.g.IN_TRIAL&&0===-Object(o.a)(r)},d=e=>{var{hasSeenBenefitsTab:t}=Object(a.d)(e,n.i.SIDEBAR_FOOTER);return!t&&c(e)},l=e=>{if(!s(e))return!1;if(d(e))return!0;var t=!1;if(Object(a.f)(e)===i.g.IN_TRIAL){var{trialExpirationDate:r}=Object(a.d)(e,n.i.SIDEBAR_FOOTER),c=Object(o.a)(r);1!==c&&2!==c||(t=!0)}return t},u=e=>s(e)&&Object(a.f)(e)===i.g.IN_TRIAL,_=e=>{var t=Object(a.f)(e);return s(e)&&(t===i.g.PAID||t===i.g.FREE_EXPIRED_TRIAL)}},D6w7:function(e,t,r){"use strict";r.d(t,"c",function(){return f}),r.d(t,"a",function(){return b}),r.d(t,"b",function(){return h}),r.d(t,"d",function(){return g}),r.d(t,"e",function(){return v});var n=r("rePB"),a=r("Z0Cl"),o=r("7EGn"),i=r("zmn3"),s=r("pHS2"),c=r("OZf9"),d=r("wd/R"),l=r.n(d),u=r("zgq7"),_=r("HBMi"),p=r("quKg");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var f=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.inbox.mentions,{},e.inbox.stars,{},e.inbox.reminders),r=Object(o.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),a=Object(o.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(c.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,r.mentions&&r.mentions.includes(e.id)&&(t[e.id].archived=!0),r.stars&&r.stars.includes(e.id)&&(t[e.id].archived=!0),a.mentions&&a.mentions.includes(e.id)&&(t[e.id].read=!0),a.stars&&a.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,r.reminders&&r.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),a.reminders&&a.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});var d=Object.keys(t).sort().reverse(),u={};Object(c.a)(d,e=>{u[e]=t[e]});var p=Object(s.a)(u,e=>l()(Object(_.a)(e.id)).startOf("day")),f={};return Object.keys(p).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{f[e]=p[e]}),Object(i.a)(f,e=>e)});f.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};var b=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions;return Object(a.a)(t,e=>null===e.subtype)});b.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};var h=Object(u.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});h.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};var O={mentions:[],stars:[],reminders:[]},g=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.reads||O,r=e&&e.inbox&&e.inbox.archives||O,n=[...new Set((t.mentions||[]).concat(r.mentions||[]))],a=[...new Set((t.stars||[]).concat(r.stars||[]))],o=[...new Set((t.reminders||[]).concat(r.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!n.includes(e))||Object.keys(e.inbox.stars).some(e=>!a.includes(e))||Object.keys(e.inbox.reminders).some(e=>!o.includes(e))});g.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};var v=Object(u.b)(e=>Object(p.c)(e,"inbox"));v.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},Er5K:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=["about","space","tasks","board"],a=["app","about","settings"];function o(e){return-1!==n.indexOf(e)||-1!==a.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,r){"use strict";var n=r("RjUC"),a=r("XxnT");t.a=function(e){var t,{parseFormat:r="unix",returnMoment:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(a.a)(),s="unix"!==r;return a.a.isMoment(e)?o?e:Object(a.a)(e).toDate():Object(n.a)(e)?o?Object(a.a)(e.getTime()):e:(s&&"string"==typeof e&&(t=e),s||"string"!=typeof e&&"number"!=typeof e||(t="string"==typeof e?parseFloat(e):e),s&&(i=Object(a.a)(t,r)),s||"number"!=typeof t||(i=t.toString().split(".")[0].length>11?Object(a.a)(t):a.a.unix(t)),o?i:Object(a.a)(i).toDate())}},HuaI:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",function(){return i}),r.d(t,"addWorkspace",function(){return s}),r.d(t,"updateWorkspaceMeta",function(){return c}),r.d(t,"internalSetFocusedWorkspace",function(){return d}),r.d(t,"internalRemoveWorkspace",function(){return l}),r.d(t,"internalWorkspacesRemoved",function(){return u}),r.d(t,"internalRemoveWorkspaceType",function(){return _}),r.d(t,"internalSetFocusedWorkspaceType",function(){return p}),r.d(t,"internalWorkspacesRemovedType",function(){return m}),r.d(t,"setWorkspaceOrder",function(){return f}),r.d(t,"setWorkspaceBooted",function(){return b}),r.d(t,"setDidBootAllWorkspaces",function(){return h}),r.d(t,"setWorkspaceFailedToBoot",function(){return O}),r.d(t,"setWorkspaceIsMigrating",function(){return g}),r.d(t,"setWorkspaceMigrationIsComplete",function(){return v}),r.d(t,"setWorkspaceIsAccessLimited",function(){return y}),r.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return I});var n=r("aK/h"),a=r("A2B7"),o=r("Z7Ay"),i=Object(a.b)("Initializes the store and sets the initial focused workspace ID");i.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},i.propTypes=n.default.object.isRequired;var s=Object(a.b)("Adds a new workspace to the store (but does not boot it)");s.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},s.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var c=Object(a.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var d=Object(a.b)("Actually focus a workspace");d.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},d.propTypes=n.default.string.isRequired;var l=Object(a.b)("Removes a workspace from the store");l.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},l.propTypes=n.default.string.isRequired;var u=Object(a.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=n.default.arrayOf(n.default.string).isRequired;var _=l.getType(),p=d.getType(),m=u.getType(),f=Object(a.b)("Sets the order of workspaces for display");f.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},f.propTypes=n.default.arrayOf(n.default.string).isRequired;var b=Object(a.b)("Sets the workspace booted state");b.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},b.propTypes=n.default.string.isRequired;var h=Object(a.b)("Indicates that we have completed (or attempted) boot for all known workspaces");h.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},h.propTypes=null;var O=Object(a.b)("Sets the workspace failed to boot state");O.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},O.propTypes=n.default.string.isRequired;var g=Object(a.b)("Indicates that the given workspace is in the middle of an org migration");g.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},g.propTypes=n.default.string.isRequired;var v=Object(a.b)("Indicates that the given workspace has completed migrating to an org");v.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},v.propTypes=n.default.string.isRequired;var y=Object(a.b)("Indicates that the given workspace has its access limited on this network");y.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},y.propTypes=n.default.string.isRequired;var I=Object(a.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");I.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},I.propTypes=n.default.string,Object(o.a)("workspacesStoreActions",{setWorkspaceOrder:f,setWorkspaceBooted:b})},JnmR:function(e,t,r){"use strict";r.d(t,"r",function(){return n}),r.d(t,"q",function(){return a}),r.d(t,"i",function(){return o}),r.d(t,"h",function(){return i}),r.d(t,"n",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"s",function(){return _}),r.d(t,"j",function(){return p}),r.d(t,"o",function(){return m}),r.d(t,"g",function(){return f}),r.d(t,"f",function(){return b}),r.d(t,"p",function(){return h}),r.d(t,"w",function(){return O}),r.d(t,"u",function(){return g}),r.d(t,"v",function(){return v}),r.d(t,"k",function(){return y}),r.d(t,"l",function(){return I}),r.d(t,"t",function(){return S}),r.d(t,"b",function(){return w}),r.d(t,"m",function(){return j});var n=180,a=400,o=260,i=600,s=284,c=15,d={MANUAL:"manual",AUTO:"auto"},l=500,u=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:260},{minWidth:0,sidebar:200,inspector:260}],_=[{min:n,max:220,className:"p-workspace__sidebar--tiny"},{min:a-50,max:a,className:"p-workspace__sidebar--large"}],p=[{min:o,max:300,className:"p-workspace__secondary_view--tiny"},{min:i-100,max:i,className:"p-workspace__secondary_view--large"}],m=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],f=260,b=400,h=8,O=60,g="sidebarWidthIntent",v="sidebarWidthMode",y="inspectorWidthIntent",I="inspectorWidthMode",S="isSidebarVisible",w="calculatedSidebarWidth",j="LAYOUT"},Lg4S:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=10,a=1;function o(e){return e?n:a}},N4J5:function(e,t,r){"use strict";var n=r("wd/R"),a=r.n(n);t.a=(e=>e&&"0000-00-00"!==e?a()(e).diff(a()().startOf("day"),"days"):null)},POHe:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=new Map},"Qe/g":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return c});var n,a=r("quKg"),o=r("Smdl"),i=r("cewN");function s(e){return"treatment"===Object(a.c)(e,"mwc")&&Object(o.a)()}function c(){if(!Object(o.a)())return!1;if(void 0===n){var e=Object(i.d)(location.search);n=!!e.channel_popout}return n}},Qtvm:function(e,t,r){"use strict";r.d(t,"c",function(){return l}),r.d(t,"a",function(){return u});var n=r("rePB"),a=r("aK/h"),o=r("A2B7"),i=r("MNvw"),s=r("zgq7");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l=Object(o.b)("Persists a request payload by key");l.meta={name:"persistApiCallPayload",key:"persistedApiCallsStorePersistApiCallPayload",description:"Persists a request payload by key"},l.propTypes={persistKey:a.default.string,payload:a.default.object};var u=Object(o.b)("Clears the persisted apiCall payload at the key");u.meta={name:"clearApiCallPayload",key:"persistedApiCallsStoreClearApiCallPayload",description:"Clears the persisted apiCall payload at the key"},u.propTypes={persistKey:a.default.string};var _=Object(i.b)({[l]:function(e){var{persistKey:t,payload:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d({},e,{[t]:d({},r,{persistKey:t})})},[u]:(e,t)=>{var r=d({},e);return delete r[t],r}},{},{storeKey:"persistedApiCalls",persistenceEnabled:!0,persistImmediately:!0});_.meta={name:"persistedApiCalls",key:"persistedApiCallsStorePersistedApiCalls"},_.propTypes=a.default.object,t.b=_,Object(s.b)(e=>e&&e.persistedApiCalls).meta={name:"getPersistedApiCalls",key:"persistedApiCallsStoreGetPersistedApiCalls"}},UioL:function(e,t,r){"use strict";var n=r("rePB"),a=r("fujP"),o=r("Dn8e"),i=r("4Z3G"),s=r("kymL"),c=r("JtEI"),d=r("Z0v/"),l=r("Gogr"),u=r("eK5+"),_=r("Pw4T"),p=r("5MVR"),m=r("9svP"),f=r("s4P+"),b=r("cewN");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var O=Object(u.a)(10),g=d.h+"_get_stored_state_from_idb_mark_"+d.i,v=d.h+"_get_stored_state_from_idb_success_"+d.i,y=d.h+"_get_stored_state_from_idb_failure_"+d.i,I=window.location.href.split("?",2)[1],S=Object(b.d)(I),w=Object(u.a)(1)||S.force_store_measurement,j=["channels","emoji","files","members","messages"],A=!1;t.a=function(){var{teamId:e,userId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(f.a)({teamId:e}),u=Object(_.a)();O&&u.mark(g),r.info(d.D,"Getting state from IndexedDB");var b=Object(l.e)(e,"enterprise_id");return i.a.map([e,b],e=>{if(!e)return i.a.resolve({});var r="persist:"+Object(d.F)({appName:Object(c.c)(),teamId:e,userId:t});return s.a.get(r)},{concurrency:2}).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||Object(a.a)(e))return O&&u.clearMarks(g),r.info(d.D,"No state found in IndexedDB"),!1;var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{},t);return O&&(u.measureAndClear(g),u.count(v)),r.info(d.D,"Successfully got state from IndexedDB"),w&&!A&&(A=!0,j.forEach((e,t)=>{var n=10*(t+1)*1e3,a=Object(m.a)(n,-.25,.25);Object(o.a)(()=>{var t=Object(p.a)(i[e]);null!==t&&(u.store("redux_size_of_store_"+e+"_bytes",t),r.info(d.D,"[STORE-SIZES]","state."+e+" is approximately "+t+" bytes"))},a)})),i}).catch(e=>(O&&(u.clearMarks(g),u.count(y)),r.error(d.D,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},UjNr:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("Ff2n"),a=r("fp5s"),o=r("ifKl"),i=r("4Z3G"),s=r("2XU3"),c=r("aK/h"),d=r("6jsb"),l=r("Qtvm"),u=r("gIpc"),_=["stars.add","stars.remove","reactions.add","reactions.remove","chat.deleteAttachment","conversations.mark","conversations.leave","users.prefs.set","users.prefs.setNotifications","subscriptions.thread.add","subscriptions.thread.remove","unread.markRead","users.profile.set"];var p=Object(d.b)("Dispatch an API call that can be persisted",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{persistKey:c}=r,d=Object(n.a)(r,["persistKey"]),{method:p}=d;if(!function(e){return _.includes(e)}(p))throw new Error("This method is not in the `offline-persist-methods` manifest and cannot be persisted. Make sure the calling code is not relying on a response before adding it to the manifest.");var m=c||Object(a.a)(Date.now()+"-"+p+"-");return e(Object(l.c)({persistKey:m,payload:d})),e(Object(u.a)()).then(()=>e(Object(s.a)(d))).catch(o.a).finally(()=>e(Object(l.a)(m))),i.a.resolve()});p.meta={name:"apiCallPersisted",key:"infraApiApiCallPersistedApiCallPersisted",description:"Dispatch an API call that can be persisted"},p.propTypes={method:c.default.string,args:c.default.object,defaultArgs:c.default.object,reason:c.default.string,EXPEDITED:c.default.bool,SET_ACTIVE:c.default.bool,persistKey:c.default.string}},V6fv:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=/^p?(\d{10})\.?(\d{6})$/;function a(e){return e&&n.test(e)?e.replace(n,"$1.$2"):null}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?a(String((+e/1e3).toFixed(6))):null}},VL9c:function(e,t,r){"use strict";var n=r("oTSI"),a=r("4Z3G"),o=r("iYuT"),i=r("Z7Ay"),s=r("rhGu"),c=r("eK5+"),d=r("Pw4T"),l=r("MFhL"),u=r("Smdl"),_=r("afo6"),p="API-CONNECTIVITY",m=Object(c.a)(100),f=Object(n.a)(()=>new _.a({testConnectivity:y,logLabel:p,metricsLabel:"api",shouldCollectConnectivityMetrics:m})),b=()=>f().waitForConnectivity();t.a=b;var h=0,O=1e3,g=()=>{var e={_x_reason:"api_connectivity_test"};Object(u.a)()&&(e._x_sonic=!0);var t=Object(l.a)(e);return new s.a({url:"https://www.slack.com/api/api.test",maxRetryAfter:6e4,payload:t}).send()},v=g;function y(){return Object(o.e)(p,"Testing API connectivity..."),v().tap(()=>{m&&h&&Object(d.a)().count("cm_api_connected_with_retries",h),Object(o.e)(p,"Successfully fetched from api.test. Onward!"),h=0}).catch(e=>{Object(o.e)(p,"Failed to fetch from api.test "+e+".");var t=new Error("Failed to fetch from api.test");return t.retryAfter=e.retryAfter||O,h+=1,t.totalRetryAttempts=h,a.a.reject(t)})}Object(i.a)("waitForApiConnection",b),Object(i.a)("mockServiceDisconnection",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42,t=0;v=(()=>(t+=1)===e?(t=0,v=g,a.a.resolve()):a.a.reject(new Error("Shhhh... we\u2019re pretending to have a bad time."))),window.slackDebug.activeTeam.api.q.debugServiceDisconnect()})},"Yd+W":function(e,t,r){"use strict";var n,a,o,i,s,c,d;r.d(t,"e",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return d}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(n||(n={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management",e.AddProfilePhoto="add_profile_photo",e.InviteUsers="invite_users",e.WelcomeMessage="welcome_message",e.AccountSetup="account_setup"}(a||(a={})),function(e){e.Creator="creator_onboarding",e.Joiner="joiner_onboarding"}(o||(o={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(i||(i={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(s||(s={})),function(e){e.CHANNEL="channel",e.BROWSE="browse"}(c||(c={})),function(e){e.Creator="creator",e.Joiner="joiner"}(d||(d={}))},YjHT:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"c",function(){return p}),r.d(t,"e",function(){return m}),r.d(t,"j",function(){return f}),r.d(t,"i",function(){return b}),r.d(t,"k",function(){return h}),r.d(t,"f",function(){return v}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return I});var n=r("rePB"),a=r("aK/h"),o=r("A2B7"),i=r("MNvw"),s=r("zgq7"),c=r("V6fv");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u="error",_="has_more",p="timestamp_too_old",m=Object(o.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");m.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},m.propTypes={reason:a.default.oneOf([u,_,p])};var f=Object(o.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");f.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},f.propTypes=a.default.string;var b=Object(o.b)("Set a value that represents whether we are currently in the boot phase");b.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},b.propTypes=a.default.bool;var h=Object(o.b)("Set a value that represents whether we are currently performing a warm boot");h.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},h.propTypes=a.default.bool;var O={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},g=Object(i.b)({[m]:e=>l({},e,{eventlogGapCount:e.eventlogGapCount+1}),[f]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(c.b)();return t?l({},e,{lastKnownEventTimestamp:t}):e},[b]:(e,t)=>l({},e,{bootInFlight:t}),[h]:(e,t)=>l({},e,{warmBootInFlight:t})},O,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>l({},e,{bootInFlight:O.bootInFlight,warmBootInFlight:O.warmBootInFlight})});g.meta={name:"consistency",key:"consistencyStoreConsistency"},g.propTypes={eventlogGapCount:a.default.number,lastKnownEventTimestamp:a.default.string,bootInFlight:a.default.bool,warmBootInFlight:a.default.bool},t.d=g,Object(s.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};var v=Object(s.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);v.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};var y=Object(s.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);y.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};var I=Object(s.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);I.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},afo6:function(e,t,r){"use strict";r.d(t,"a",function(){return ConnectivityManager});var n=r("iYuT"),a=r("4Z3G"),o=r("q/xz"),i=r("Pw4T"),s=10,c=3e5,d="exceeded_maximum_retries";class ConnectivityManager{constructor(e){var{maxAttempts:t=s,maxRetryAfter:r=c,logLabel:n="CONNECTIVITY-MANAGER",metricsLabel:a,testConnectivity:i,shouldCollectConnectivityMetrics:d=!1}=e;if(!i||"function"!=typeof i)throw new Error("ConnectivityManager requires a testConnectivity function.");this._testConnectivity=i,this._logLabel=n,this._metricsLabel=a,this._shouldCollectConnectivityMetrics=!(!d||!a),this._numberOfAttempts=0,this._retryAfter=0,this._maxAttempts=t,this._maxRetryAfter=r,this._retryTimeout=null,this._promiseToTestConnection=null,Object(o.a)(this)}waitForConnectivity(){return this._promiseToTestConnection||(this._shouldCollectConnectivityMetrics&&Object(i.a)().count("cm_flow_wait_for_connectivity_"+this._metricsLabel),this._promiseToTestConnection=this._testConnection().tap(()=>{this._shouldCollectConnectivityMetrics&&Object(i.a)().count("cm_flow_connected_"+this._metricsLabel)}).finally(()=>{this._reset()})),this._promiseToTestConnection}_testConnection(){return this._testConnectivity().catch(e=>this._promiseToRetryLater({retryAfter:e&&e.retryAfter,totalRetryAttempts:e&&e.totalRetryAttempts}))}_promiseToRetryLater(e){var{retryAfter:t=this._retryAfter,totalRetryAttempts:r=this._numberOfAttempts}=e;window.clearTimeout(this._retryTimeout);var o=Math.min(t,this._maxRetryAfter);return this._numberOfAttempts+=1,this._numberOfAttempts>=this._maxAttempts?(Object(n.e)(this._logLabel,"Failed to establish a connection after "+r+" attempt(s)."),this._shouldCollectConnectivityMetrics&&Object(i.a)().count("cm_flow_err_exceeded_max_retries_"+this._metricsLabel),a.a.reject(new Error(d))):(this._shouldCollectConnectivityMetrics&&Object(i.a)().count("cm_flow_failed_to_connect_"+this._metricsLabel),this._shouldLogErrors(r)&&Object(n.e)(this._logLabel,"Failed to establish a connection after "+r+" attempt(s); Retrying in "+o+"ms."),new a.a(e=>{this._retryTimeout=window.setTimeout(()=>{e(this._testConnection())},o)}))}_shouldLogErrors(e){return e<10||e%10==0}_reset(){this._numberOfAttempts=0,this._promiseToTestConnection=null,window.clearTimeout(this._retryTimeout),this._retryTimeout=null}}},ayyL:function(e,t,r){"use strict";r.d(t,"z",function(){return c}),r.d(t,"w",function(){return d}),r.d(t,"k",function(){return l}),r.d(t,"x",function(){return u}),r.d(t,"d",function(){return p}),r.d(t,"f",function(){return m}),r.d(t,"g",function(){return f}),r.d(t,"h",function(){return b}),r.d(t,"l",function(){return h}),r.d(t,"m",function(){return O}),r.d(t,"i",function(){return g}),r.d(t,"j",function(){return v}),r.d(t,"y",function(){return y}),r.d(t,"u",function(){return I}),r.d(t,"A",function(){return S}),r.d(t,"t",function(){return w}),r.d(t,"r",function(){return j}),r.d(t,"s",function(){return A}),r.d(t,"p",function(){return E}),r.d(t,"o",function(){return T}),r.d(t,"v",function(){return k}),r.d(t,"n",function(){return R}),r.d(t,"a",function(){return D}),r.d(t,"e",function(){return C}),r.d(t,"c",function(){return N}),r.d(t,"b",function(){return L}),r.d(t,"q",function(){return U});var n=r("zgq7"),a=r("XL7r"),o=r("Smdl"),i=r("1zgd"),s=r("Yd+W"),c=e=>!(!e||"workflow"!==e.type),d=Object(n.b)(e=>{var t=Object(a.k)(e,"welcome_place_state");return t&&"none"!==t});d.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};var l=Object(n.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);l.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};var u=Object(n.b)(e=>"enabled"===Object(a.k)(e,"welcome_place_state")&&(!Object(o.a)()||l(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"},Object(n.b)((e,t)=>{var{channelId:r,messageTimestamp:n}=t;return e.welcomePlace.channelMessages[r][n]}).meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};var _=Object(n.b)(e=>e.welcomePlace.userDetails);_.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};var p=Object(n.b)(e=>_(e).app_file_management);p.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};var m=Object(n.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);m.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};var f=Object(n.b)(e=>e.welcomePlace.lastRequestTimestamp);f.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};var b=Object(n.b)(e=>e.welcomePlace.lastUsedLocale);b.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};var h=Object(n.b)(e=>e.welcomePlace.pageEntryPoint);h.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};var O=Object(n.b)(e=>e.welcomePlace.pageViewingSessionId);O.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};var g=Object(n.b)(e=>e.welcomePlace.onboardingChannelId);g.meta={name:"getOnboardingChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingChannelId"};var v=Object(n.b)(e=>{var t,r,n=l(e).find(e=>"workflow"===e.type);if(!c(n))return null;var a=null==n?void 0:null===(t=n.content)||void 0===t?void 0:null===(r=t.workflow)||void 0===r?void 0:r.type;return"creator_onboarding"===a?s.g.Creator:"joiner_onboarding"===a?s.g.Joiner:null});v.meta={name:"getOnboardingWorkflowType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingWorkflowType"};var y=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type);if(!c(t))return!1;var r=1e3*t.content.workflow.date_start;return Date.now()-r<6048e5});y.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};var I=Object(n.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);I.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};var S=Object(n.b)(()=>{if(!Object(o.a)())throw new Error("this selector can not be used from Legacy");return!1});S.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};var w=Object(n.b)((e,t)=>{var r=l(e).find(e=>"workflow"===e.type);return c(r)?r.content.workflow.tasks.find(e=>e.subtype===t):null});w.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};var j=Object(n.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);j.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(n.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"},Object(n.b)(e=>e.welcomePlace.experiment).meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"},Object(n.b)(e=>e.welcomePlace.treatment).meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};var A=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};var r=t.content.workflow.tasks.filter(i.a),n=r.filter(e=>"completed"===e.state).length,a=r.find(e=>"completed"!==e.state);return{total:r.length,completed:n,nextTaskType:a&&a.subtype}});A.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};var E=Object(n.b)(e=>{if(v(e)===s.g.Creator)return s.c.CHANNEL;var t=_(e).send_message_task;return t&&t.type});E.meta={name:"getSendMessageTaskType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageTaskType"};var T=Object(n.b)(e=>{if(v(e)===s.g.Creator)return g(e);var t=_(e).send_message_task;return(t&&t.type)===s.c.CHANNEL?t.send_to_channel_id:""});T.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};var P=Object(n.b)(e=>e.welcomePlace.welcomePlaceSettings);P.meta={name:"getWelcomePlaceSettings",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWelcomePlaceSettings"},Object(n.b)(e=>{var t=P(e);return t.sendToChannelId?t.sendToChannelId:""}).meta={name:"getSendToChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendToChannelId"};var k=Object(n.b)(e=>{return"completed"===(w(e,s.f.SendMessage)||{}).state});k.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};var R=Object(n.b)(e=>Object(a.k)(e,"send_your_first_message_banner_enabled"));R.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};var D=Object(n.b)(e=>e.welcomePlace.isAnimationStarted);D.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"};var C=Object(n.b)(e=>e.welcomePlace.invitedUsers);C.meta={name:"getInvitedUsers",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInvitedUsers"};var N=Object(n.b)(e=>e.welcomePlace.defaultWelcomeMessages);N.meta={name:"getDefaultWelcomeMessages",key:"welcomePlaceStoreWelcomePlaceSelectorsGetDefaultWelcomeMessages"};var L=Object(n.b)(e=>e.welcomePlace.customWelcomeMessage);L.meta={name:"getCustomWelcomeMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetCustomWelcomeMessage"};var U=Object(n.b)(e=>e.welcomePlace.sentMessageChannelId);U.meta={name:"getSentMessageChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSentMessageChannelId"}},btH0:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("wHps");function a(e){return Object.values(n.a).includes(e)}},"d/52":function(e,t,r){"use strict";r.r(t);var n=r("rePB"),a=r("4Z3G"),o=r("z2u5"),i=r("Omjo"),s=r("qe1s"),c=r("4Ms+"),d=r("Gogr"),l=r("lKeU"),u=r("HuaI"),_=r("IY6O"),p=r("TSHB"),m=r("m8R6"),f=r("fujP"),b=r("7EGn"),h=r("vfQU"),O=r("VMwU"),g=r("cErB"),v=()=>{var e=Object(h.J)("teams"),t=Object(h.J)("enterprise");if(!e)return null;var r=function(){var{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(O.d)(e.column_bg,20)},n=function(){var{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},a=function(){var{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var{host:t,protocol:r}=Object(g.l)(e);return r+"//"+t+"/"},o=Object.keys(Object(d.c)("teams")||{}),i=Object(m.a)(e,o);return Object(p.a)(i,e=>({id:e.team_id,name:e.team_name,url:a(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:n(e),teamSwitcherBackground:r(e),isExpired:!0}))};var y=r("vATg"),I=r("sDWr"),S=r("Qe/g"),w=r("KXvl"),j=r("rWF5"),A=r("JnmR"),E=(r("i/gx"),".p-client_container_placeholder"),T=".p-client_container_placeholder__nav";function P(e){var{teamId:t,showTeamSwitcher:r=!1}=e,n=Object(d.e)(t,"isIAP1Enabled"),a=Object(d.e)(t,"channelSidebarBackground"),o=Object(d.e)(t,"teamSwitcherBackground"),i=Object(d.e)(t,"textColor"),s=Object(d.e)(t,"topNavBackground")||a,c=document.querySelector(E);if(c)if(Object(S.a)())!function(e){var t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);var r=document.createElement("div");r.classList.add("p-message_input_placeholder"),e.appendChild(r),e.classList.add("p-client_container_placeholder--channel-popout")}(c);else{var l=c.querySelector(T);if(a){if(Object(w.b)()&&r&&(c.classList.add("p-client_container_placeholder--with-team-switcher"),c.style.borderLeftColor=o),n&&l&&i&&a){c.classList.add("p-client_container_placeholder--iap1");var u=Object(O.k)(i,a,.1),_=Object(O.n)(i,.1);c.style.borderRightColor=u,Object(j.F)()&&Object(j.l)()&&(l.style.height="7px"),l.style.backgroundColor=s,l.style.color=_,Object(w.b)()&&r&&(c.style.removeProperty("border-left-color"),c.style.boxShadow="-60px 0px 0px 0px "+a,l.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}var p=a,m=Object(d.e)(t,A.b);isNaN(m)||(c.style.width=m+1+"px",Object(w.b)()&&r&&0===m&&(c.style.width="60px",p="none",c.style.borderRight="none")),c.style.backgroundColor=p,c.style.opacity="1"}else k()}}function k(){var e=document.querySelector(E);e&&e.remove()}var R=r("JtEI"),D=r("A4VO"),C=r("rb67");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var L=Object(j.g)();L!==j.a.SAFARI&&L!==j.a.EDGE||Object(C.e)(),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),a.a.resolve(Object(c.b)({label:"setupGantry_"+Object(R.a)(Object(D.a)())},o.a)).then(e=>{var{teamId:t,forceColdBoot:r,triggerSignInAfterBoot:o,teamIdFromUrl:i}=e;return Object(j.l)()&&!Object(d.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(d.c)("prevTeams"),t=Object(f.a)(e)?Object(h.eb)()&&v():e;Object(d.m)("prevTeams",t);var r=Object(d.c)("orderedTeamIds"),n=Object(f.a)(r)?Object(b.a)(Object(h.J)("appTeams"),"teamsByIndex",[]):r;Object(d.m)("orderedTeamIds",n)}(),Object(d.m)("migratedDesktopLocalConfig",!0)),P({teamId:t,showTeamSwitcher:Object(l.a)().length>1}),Object(c.b)({label:"bootClient_"+Object(R.a)(r)},function(){var e,r;Object(I.q)(),t!==Object(d.c)("lastActiveTeamId")&&Object(d.m)("lastActiveTeamId",t);var c=new URL(window.location),l=(null==c?void 0:null===(e=c.searchParams)||void 0===e?void 0:e.get("pause_boot_step"))&&parseInt(null==c?void 0:null===(r=c.searchParams)||void 0===r?void 0:r.get("pause_boot_step"),10);return new a.a(e=>{1===l?window.nextBootStep=e:e()}).then(()=>Object(s.b)({teamId:t,shouldSetFocus:!0})).then(e=>{var t=Date.now(),{store:r,bootAssets:a,isWarmBooting:s}=e,{isJsPath:c,mountClient:d,isReload:l,isQa:u,isDev:_,registerGlobalErrorHandler:p,registerGlobalBeforeunloadHandler:m,registerNetworkConnectivityListener:f}=a;p(),m(),f();var b=r.getState(),h=a.getTelemeter({state:b}),O=s?"warm":"cold";c||_||u||(h.store("sonic_boot_phase_2_"+O,Date.now()-window.sonic_boot__phase_2__start),l()&&h.count("sonic_boot_via_reload"));var g=!0;return k(),d(document.querySelector(".p-client_container"),()=>{c||_||u||!g||(h.store("sonic_boot_phase_3_"+O,Date.now()-t),g=!1)}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{triggerSignInAfterBoot:o,teamIdFromUrl:i})})})}).catch(e=>{k(),Object(y.f)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),a.a.resolve(e)}).tap(function(){var{bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;var{startWorkspaceSignIn:n,getClientStoreInstance:a}=e;a().dispatch(n({teamId:r}))}).then(function(e){if(!Object(w.b)())return a.a.resolve(e);var t=e.teamId,r=e.bootAssets.getAllWorkspacesFromLocalConfig(),n=e.bootAssets.getWorkspacesMetaFromLocalConfig(),o=r.filter(e=>n[e]&&!n[e].isExpired).filter(e=>e!==t);return Object(i.b)("BOOT","Booting other teams: "+o.join(",")),o.map(e=>s.b.bind(null,{teamId:e})).reduce((e,t,r)=>e.catch(e=>{Object(y.a)(o[r-1],e)}).finally(t),a.a.resolve()).then(()=>e)}).then(function(e){var{bootAssets:t}=e,{storeSSBMemoryStatsOnAnInterval:r}=t;return r(),a.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeReduxStoreStatsOnAnInterval:r}=t;return r(),a.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{registerServiceWorker:r,fetchApiCallsForCaching:n,isServiceWorkerAvailable:o}=t;o()&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{n(e)}),r());return a.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{isJsPath:r,isProduction:n,removeUrlQueryStringValue:o}=t;if(n&&!r){if(window.location.search.match("force_cold_boot")){var i=o(window.location.href,"force_cold_boot");window.history.replaceState({},"",i)}if(window.location.search.match("new_enough_acceptable")){var s=o(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",s)}}return a.a.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(()=>e)}).then(function(e){var{getClientStoreInstance:t,getStoreInstanceByTeamId:r,initPersistenceForTeam:n}=e.bootAssets,o=t();return Object(_.getBootedWorkspaces)(o.getState()).forEach(e=>{var t=r(e);n({teamId:e,store:t})}),a.a.resolve(e)}).then(function(e){var{getClientStoreInstance:t}=e.bootAssets;return t().dispatch(Object(u.setDidBootAllWorkspaces)()),Object(s.a)(),a.a.resolve(e)})},hgYl:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r("Smdl"),a=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(n.a)()?["search_results","activity","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top"]:["convo","groups","team","stars","mentions"]],o={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",TASKS:"tasks",BOARDS:"board"}},"i/gx":function(e,t,r){},jr0b:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={SUCCESS:"success",ERROR:"error"}},lKeU:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("cZF4"),a=r("Muja"),o=r("0VPD"),i=r("Gogr");function s(){var e=Object.keys(Object(i.g)()),t=Object.keys(Object(i.f)()),r=Object(n.a)(e,t),s=Object(i.c)("orderedTeamIds"),c=Object(n.a)(Object(o.a)(s,r),e);return Object(a.a)(c,s)||Object(i.m)("orderedTeamIds",c),c}},qe1s:function(e,t,r){"use strict";r.d(t,"a",function(){return q}),r.d(t,"b",function(){return V});var n=r("rePB"),a=r("xnu4"),o=r("4Z3G"),i=r("Omjo"),s=r("lhZz"),c=r("8Az7"),d=r("vATg"),l=r("A4VO"),u=r("Gogr"),_=r("rkcT"),p=r("cewN"),m=r("cErB"),f=r("TdUT"),b=r("sekS"),h=r("IbTH"),O=r("YjHT"),g=r("nNoG"),v=r("BNw7"),y=r("toaU"),I=r("sDWr"),S=r("POHe"),w=r("iTOt"),j=r("0QyR"),A=r("jngr"),E=r("JtEI"),T=r("DlLn"),P=r("fhz1"),k=r("KXvl");function R(e){if(!e.shouldSetFocus)return o.a.resolve(e);var{teamId:t,bootAssets:r}=e,{configureClientStore:n,getAllWorkspacesFromLocalConfig:a,getWorkspacesMetaFromLocalConfig:i,initializeWorkspacesStore:s}=r,c=n(),d=Object(k.b)()?a():[t],l=i();return c.dispatch(s({focusedWorkspace:t,allWorkspaces:d,workspacesMeta:l})),o.a.resolve(e)}function D(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),o.a.resolve(e)):o.a.resolve(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var L="ensure_boot_data_failed",U=["user_removed_from_team","invalid_auth","not_authed","userLogin"],M="accesslimited",W="two_factor_setup_required";function B(e,t){if(window.isReloading)return Object(i.b)("BOOT","("+e.teamId+") Ongoing reload detected during ensure boot data error handler; Halting execution."),Object(v.a)();if(t&&t.data&&t.data.error===W)return Object(P.a)(e.teamId);if(t&&t.data&&t.data.error&&U.includes(t.data.error)&&!t.doNotFetchAuth)return Object(T.d)();var n=!!(t&&t.data&&t.data.active_migration),a=N({},e,{bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:!(!t||!t.data||t.data.error!==M)});return n||(Object(i.a)("Caught boot data error",t),Object(A.a)({err:t,teamId:e.teamId,description:Object(E.c)()+" boot failed to fetch boot data",subtype:Object(E.c)()+"_boot_data_error",version:Object(f.a)()})),function(e){var t=function(e){return Promise.all([r.e(0),r.e(138),r.e(8),r.e(17)]).then(r.bind(null,"OrkY")).then(t=>N({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(F));return t.then(x)}(a).then(e=>{var t=new Error(L);throw t.context=e,t})}function F(e){return R(e).then(D).then(()=>{var{bootAssets:t}=e,{registerServiceWorker:r}=t;return r(),o.a.resolve(e)})}function x(e){var{teamId:t,bootAssets:r,bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:a}=e,{configureStore:s,reducers:c,middlewares:d,setWorkspaceFailedToBoot:l,setWorkspaceIsMigrating:u,setWorkspaceIsAccessLimited:_,getClientStoreInstance:p,navigateToRoute:m,setWillNavigateToUnbootedWorkspaceId:f,getWillNavigateToUnbootedWorkspaceId:b}=r;Object(i.c)("BOOT","("+e.teamId+") failed to create store; initializing empty team store");var h=N({},e,{store:s({teamOrEnterpriseId:t,initialState:{},reducers:c,middlewares:d})}),O=p();return O.dispatch(l(t)),n&&(O.dispatch(u(t)),Object(i.c)("BOOT","("+e.teamId+") Workspace boot failed due to active migration")),a&&O.dispatch(_(t)),b(O.getState())===t?(m(y.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),O.dispatch(f(null)),o.a.resolve(e)):o.a.resolve(h)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var K={};function q(){Object.keys(K).forEach(e=>{delete K[e]})}function V(e){var{teamId:t,shouldSetFocus:r=!1}=e;return window.isReloading?(Object(i.b)("BOOT","("+t+") Ongoing reload detected; Cancelling boot."),Object(v.a)()):K[t]?K[t]:(K[t]=function(e,t){Object(i.b)("BOOT","("+e+") Initializing boot");var r=Object(l.a)(),n=Object(u.e)(e,"token"),a=Object(u.e)(e,"user_id"),s=Object(p.a)(window.location.search),c=Object(b.a)(window.location.search,document.cookie);return o.a.resolve({teamId:e,teamToken:n,forceColdBoot:r,featureFlagURLOverrides:s,experimentGroupOverrides:c,shouldSetFocus:t,shouldRetry:!0,userId:a,bootedOffline:!window.navigator.onLine})}(t,r).then(e=>(function(e){return Object(c.c)(e.teamToken,e.teamId),o.a.resolve(e)})(e).then(Y).then(Q).then(X).then(J).then(R).then(D).then(z).then(Z).then(ee).then(te).then(ae).then(oe).then(ie).then(se).then(ce).then(de).then(le).then(_e).then(ue).then(pe).then(me).catch(r=>{return ne(t),r&&r.message===L?r.context:Object(d.f)(r,H({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),K[t])}function Y(e){var t={},{teamId:n,teamToken:a,forceColdBoot:i,shouldSetFocus:s,store:c,userId:l,bootedOffline:u}=e,p=Object(_.c)({store:c,shouldSetFocus:s});if(!p){var m=Object(_.d)(n);m&&(p=m)}var f=[Promise.all([r.e(0),r.e(138),r.e(8),r.e(17)]).then(r.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.b.bind(null,n)),Object(j.a)({teamId:n,teamToken:a,routeInfo:p,forceAPI:i,userId:l,shouldSetFocus:s,bootedOffline:u,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(B.bind(null,e)),Object(h.a)(Object(g.r)({recalc:!0,teamId:n})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.d.bind(null,n))];return o.a.all(f).then(r=>{var[n,{isWarmBooting:a,bootData:o}={}]=r;return t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now(),$(H({},e,{bootAssets:n,bootData:o,isWarmBooting:a,timing:t,routeInfo:p}))})}function Q(e){var{bootData:t,isWarmBooting:r,teamId:n}=e||{};if(r)return o.a.resolve(e);var{miscBootData:a,teamData:s}=t||{},{domain:c}=s||{},{acceptTosUrl:d}=a||{};if(!d||!c)return o.a.resolve(e);var l=Object(p.f)(location.search,"force_cold_boot",1),u="/gantry"+location.pathname+l,_=Object(m.q)(d,"redirect",u);return Object(i.b)("BOOT","("+n+") User needs to accept the terms of service; redirecting to "+_),location.assign(_),Object(v.a)()}function X(e){var{teamId:t,bootAssets:r}=e,{setLocale:n,getLocale:a}=r;return o.a.resolve(n(a({teamId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function J(e){var{teamId:t,isWarmBooting:r,bootAssets:n,featureFlagURLOverrides:a,bootData:i}=e,{getImmediatelyPersistedState:s,reducers:c,purgeStoredModel:l,forceColdBoot:u,processStoredState:_}=n;return(()=>r?_({teamId:t,reducerConfig:c,storedState:i}):o.a.resolve({}))().then(n=>{if(!n)return u({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(v.a)();var o=H({},n,{bootData:H({},n.bootData,{},a,{version_ts:Object(f.a)()})}),d=r?n&&n.bootData&&n.bootData.user_id:i&&i.selfData&&i.selfData.id;return $(H({initialState:s({teamId:t,userId:d,reducerConfig:c,state:o}),userId:d},e))}).catch(e=>(Object(d.e)(t,l,u,e),Object(v.a)()))}function z(e){var{bootAssets:t}=e,{loadEmojiTranslations:r}=t;return r(),e}function Z(e){var{teamId:t,bootAssets:r}=e;return r.populateTeamDebugger(t),o.a.resolve(e)}function $(e){var{initialState:t,bootAssets:r,bootData:n,isWarmBooting:a}=e,o=a?t&&t.bootData:n&&n.miscBootData;return r.maybeReloadForMinVersionBump({isWarmBooting:a,bootData:o}).then(t=>t?Object(v.a)():H({},e,{isReloadingForMinVersionBump:t}))}function ee(e){if(!e.isWarmBooting)return e;Object(i.b)("BOOT","("+e.teamId+") Booting warm");var{teamId:t,bootAssets:r,experimentGroupOverrides:n,initialState:a={}}=e,{configureStore:s,reducers:c,overrideExperimentAssignments:d,middlewares:l}=r,u=s({teamOrEnterpriseId:t,initialState:a,reducers:c,middlewares:l});u.dispatch(Object(O.k)(!0)),n&&n.all&&u.dispatch(d(n.all)),n&&n[t]&&u.dispatch(d(n[t]));var _=e.timing||{};_.sonic_boot__phase_2_2_2__duration=Date.now()-_.sonic_boot__phase_2_2_2__start;var p=H({},e,{store:u,timing:_});return o.a.resolve(p)}function te(e){if(e.isWarmBooting)return e;Object(i.b)("BOOT","("+e.teamId+") Booting cold");var{teamId:t,bootData:r,bootAssets:n,featureFlagURLOverrides:a,experimentGroupOverrides:s,shouldSetFocus:c,initialState:d={}}=e,{dispatchBootData:l,getMembersById:p,configureStore:m,reducers:f,middlewares:b,checkForPersistenceMethodChanges:h}=n;return h(t).then(()=>{var n=m({teamOrEnterpriseId:t,reducers:f,initialState:d,middlewares:b}),i=H({},e,{store:n}),h=Object(_.c)({store:n,shouldSetFocus:c});if(n.dispatch(Object(O.k)(!1)),!h){var g=Object(_.d)(t);g?h=g:r.channelsData&&(h=re(r))}l(n,r,h,a,s);var v=n.getState(),y=(r&&r.membersToFetch||[]).filter(e=>!(v&&v.members&&v.members[e]));p(v,y);var I=i.timing||{};I.sonic_boot__phase_2_2_2__duration=Date.now()-I.sonic_boot__phase_2_2_2__start;var S=Object(u.c)("lastColdBootTs"),w=Date.now();S&&(I.sonic_boot_time_between_cold_boots=w-S),Object(u.m)("lastColdBootTs",w);var j=H({},i,{timing:I});return ne(t),o.a.resolve(j)})}function re(e){var t;if(!(null==e?void 0:null===(t=e.channelsData)||void 0===t?void 0:t.length))return null;var r={},n=e.selfData.id;return e.channelsData.some(function(){var{is_general:e,user:t,id:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return e?(r.general=a,!0):("USLACKBOT"===t&&(r.slackbot=a),t===n&&(r.self=a),o||(r.first=a),!1)}),{routeName:I.b,params:{entityId:r.general||r.slackbot||r.self||r.first}}}function ne(e){var t=Object(s.getStoreInstanceByTeamId)(e);t&&(Object(i.b)("BOOT","("+e+") Boot complete"),S.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(O.i)(!1)))}function ae(e){var{store:t,teamId:r,bootAssets:{getLocaleFeatureFlags:n,localesEnabled:s,queryStringParse:c,resetCredentials:d,removeUrlQueryStringValue:l,getLocale:u}}=e,_=n(t.getState()),p=s(Object.keys(_).reduce((e,t)=>H({},e,{[Object(a.a)(t)]:_[t]}),{})),m=c(window.location.search),f=u();return!p[f]&&Object.keys(m).includes("locale")?(Object(i.b)("BOOT","team "+r+" attempted to boot into locale "+f+" which has not been enabled; clearing credentials and reloading app"),d(),window.location=l(window.location.href,"locale"),Object(v.a)()):o.a.resolve(e)}function oe(e){var{shouldSetFocus:t,store:r,bootAssets:n,bootData:a,isWarmBooting:i,teamId:s}=e,{getRouteName:c,getRouteParams:d,updateCurrentRoute:l,getCurrentRouteInfo:u,navigateToRoute:p,getClientStoreInstance:m,setWillNavigateToUnbootedWorkspaceId:f,getWillNavigateToUnbootedWorkspaceId:b}=n,h=m();if(b(h.getState())===s)return p(y.a,{teamId:s},{reason:"delayed-unbooted-team-switch"}),h.dispatch(f(null)),o.a.resolve(e);if(!t)return o.a.resolve(e);if(i){var O=u(window.location.pathname,{throwOnNoRoute:!1});if(O&&O.params&&O.params.entityId)r.dispatch(l(O));else{var g=Object(_.d)(s);if(g)r.dispatch(l(g));else if(null==a?void 0:a.channelsData){var v=re(a);v&&r.dispatch(l(v))}}}if(Object(w.f)(r.getState()))return o.a.resolve(e);var S=r.getState(),j=c(S),A=d(S);return A&&I.a[A.entityId]&&(A.entityId=I.a[A.entityId]),p(j,A,{shouldReplaceState:!0}),o.a.resolve(e)}function ie(e){var{store:t,bootAssets:r,isWarmBooting:n}=e,a=n?"warm":"cold";return t.dispatch(r.setBootType(a)),o.a.resolve(e)}function se(e){var{teamId:t,bootAssets:r,store:n}=e,{getClientStoreInstance:a,setWorkspaceBooted:i,setWindow:s,getWindow:c,hasWorkspaceFailedToBoot:d}=r,l=a(),u=l.getState(),_=c(u);return n.dispatch(s(_)),d(u,t)?o.a.resolve(e):(l.dispatch(i(t)),o.a.resolve(e))}function ce(e){if(e.isWarmBooting)return e;var{setLocalConfigForTeamWithKey:t}=e.bootAssets,r=document.documentElement,n=!(!r||!r.dataset)&&r.dataset.versionTs;return"dev"!==n&&(n=parseInt(n,10)),t(e.teamId,"versionDataTs",n),o.a.resolve(e)}function de(e){return e.bootAssets.connectSocket(e)}function le(e){var{bootAssets:t,store:r,teamId:n,teamToken:a,featureFlagURLOverrides:s,experimentGroupOverrides:c,userId:d,isWarmBooting:l}=e,{dispatchBootData:u,getMembersById:p,maybeFetchDrafts:m,maybeReloadSlashCommands:f,maybeReloadEmoji:b,fetchAndUpsertWhatsNewUpdates:h,loadAppActions:g,shouldSetFocus:v,maybeCountServiceWorkerNetworkStackFailureRefresh:y,throttledLoadMegaphoneNotificationData:I}=t;if(l){Object(i.b)("BOOT","("+n+") Fetching fresh boot data after booting with persisted store");var S=Object(_.c)({store:r,shouldSetFocus:v});Object(j.a)({teamId:n,teamToken:a,routeInfo:S,forceAPI:!0,userId:d,shouldSetFocus:v,reason:"deferred-data"}).then(function(){var{bootData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $(H({},e,{isWarmBooting:!1,bootData:t})).then(()=>t)}).then(t=>{r.dispatch(Object(O.k)(!1)),u(r,t,S,s,c);var n=r.getState(),a=(t&&t.membersToFetch||[]).filter(e=>!(n&&n.members&&n.members[e]));p(n,a);var o=H({},e,{isWarmBooting:!1});oe(o),Q(H({},o,{bootData:t})),pe(e)}).finally(()=>{ne(n)})}return setTimeout(()=>{r.dispatch(m({preserveCache:!0,reason:"boot-team"})),r.dispatch(f()),r.dispatch(b()),r.dispatch(g()),r.dispatch(I()),r.dispatch(h({reason:"boot-team"})),y(),function(e){var{store:t,shouldSetFocus:r,bootAssets:n}=e,a=t.getState();r&&n.maybeEnablePWA(a)}(e)},0),o.a.resolve(e)}function ue(e){var{store:t,bootAssets:r,shouldSetFocus:n}=e,{getTelemeter:a,isScreenReaderEnabled:i}=r,s=t.getState();return n&&i(s)&&a({state:s}).count("screenreader_enabled"),o.a.resolve(e)}function _e(e){var{store:t,bootAssets:r,shouldSetFocus:n,isWarmBooting:a,timing:i,bootedOffline:s}=e,{getTelemeter:c,isJsPath:d,isQa:l,isDev:u,getDesktopPreloadTime:_,getClientStoreInstance:p,setShouldLogTTUMetrics:m,setShouldLogAppBootMetrics:f,ttiPolyfill:b}=r,h=c({state:t.getState()}),O=a?"warm":"cold";if(d||u)return o.a.resolve(e);if(l)return o.a.resolve(e);if(n){if(s){h.count("sonic_boot_offline");var g=p();return g.dispatch(m(!1)),g.dispatch(f(!1)),o.a.resolve(e)}var v=r.isReload()?"_reload":"";h.count("sonic_boot"),r.isReload()&&h.count("sonic_boot_reload");var y=_();if(y>0&&h.store("sonic_boot_desktop_preload"+v,y),window.performance&&window.performance.getEntriesByName){var I=""+window.location.origin+window.location.pathname,S=window.performance.getEntriesByName(I);if(S&&S[0]){var w=S[0],j=w.requestStart-w.workerStart,A=0===j?"awake":"asleep";h.count("sonic_boot_sw_status_"+A),h.store("sonic_boot_sw_startup_time_"+O,j)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(h.store("sonic_boot_window__connectStart_"+O+v,window.performance.timing.connectStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__connectEnd_"+O+v,window.performance.timing.connectEnd-window.performance.timing.fetchStart),h.store("sonic_boot_window__requestStart_"+O+v,window.performance.timing.requestStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__responseStart_"+O+v,window.performance.timing.responseStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__responseEnd_"+O+v,window.performance.timing.responseEnd-window.performance.timing.fetchStart),h.store("sonic_boot_window__domLoading_"+O+v,window.performance.timing.domLoading-window.performance.timing.fetchStart),h.store("sonic_boot_phase_1_"+O+v,window.sonic_boot__phase_1__duration)),h.store("sonic_boot_phase_2_1_"+O,0),h.store("sonic_boot_phase_1_5_"+O,window.sonic_boot__phase_1_5__duration);var E=Date.now()-window.sonic_boot__phase_2__start;h.store("sonic_boot_phase_2_2_"+O,E),h.store("sonic_boot_phase_2_2_1_"+O,i.sonic_boot__phase_2_2_1__duration),h.store("sonic_boot_phase_2_2_1_1_"+O,i.sonic_boot__phase_2_2_1_1__duration),h.store("sonic_boot_phase_2_2_1_2_"+O,i.sonic_boot__phase_2_2_1_2__duration),h.store("sonic_boot_phase_2_2_1_3_"+O,i.sonic_boot__phase_2_2_1_3__duration),h.store("sonic_boot_phase_2_2_2_"+O,i.sonic_boot__phase_2_2_2__duration),h.store("sonic_boot_phase_2_2_3_"+O,E-i.sonic_boot__phase_2_2_1__duration-i.sonic_boot__phase_2_2_2__duration),b.getFirstConsistentlyInteractive().then(e=>{h.store("sonic_tti_"+O,e)}),i.sonic_boot_time_between_cold_boots&&h.store("sonic_boot_time_between_cold_boots",i.sonic_boot_time_between_cold_boots)}return o.a.resolve(e)}function pe(e){var{teamId:t,store:r,bootAssets:n}=e,a=r.getState();return n.saveColorsToLocalConfig(t,a),o.a.resolve(e)}function me(e){try{var{store:t,bootAssets:r}=e,{openChannelBrowser:n,openChannelCreateModal:a,openInviteModalFromExternalLink:i,openPrefsModal:s,queryStringParse:c}=r,d=c(window.location.search),{open:l}=d;if(!l)return o.a.resolve(e);var{dispatch:u}=t;switch(l){case"browse_channels":u(n());break;case"create_channel":u(a({entryPoint:"external_link"}));break;case"invite_members":u(i({source:d.source||"query_string_open_invite_members",provider:d.provider}));break;case"notifications":u(s({activeSection:"notifications"}))}return o.a.resolve(e)}catch(_){return o.a.resolve(e)}}},s0HP:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var n=r("aK/h"),a=r("A2B7"),o=Object(a.b)("Initialize user preferences");o.meta={name:"setUserPrefs",key:"prefsStoreUserActionsSetUserPrefs",description:"Initialize user preferences"},o.propTypes=n.default.object.isRequired;var i=Object(a.b)("Update one user pref");i.meta={name:"setUserPref",key:"prefsStoreUserActionsSetUserPref",description:"Update one user pref"},i.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};var s=Object(a.b)("Update multiple users pref");s.meta={name:"setMultipleUserPrefs",key:"prefsStoreUserActionsSetMultipleUserPrefs",description:"Update multiple users pref"},s.propTypes=n.default.object.isRequired},sDWr:function(e,t,r){"use strict";r.d(t,"b",function(){return y}),r.d(t,"k",function(){return I}),r.d(t,"e",function(){return S}),r.d(t,"c",function(){return w}),r.d(t,"i",function(){return j}),r.d(t,"h",function(){return A}),r.d(t,"g",function(){return E}),r.d(t,"n",function(){return T}),r.d(t,"m",function(){return P}),r.d(t,"p",function(){return k}),r.d(t,"j",function(){return R}),r.d(t,"f",function(){return D}),r.d(t,"o",function(){return C}),r.d(t,"l",function(){return N}),r.d(t,"d",function(){return L}),r.d(t,"a",function(){return U}),r.d(t,"q",function(){return B});var n=r("kLJo"),a=r("toaU"),o=r("tYiI"),i=r("J9z2"),s=r("+1yX"),c=r("UUlk"),d=r("FHcd"),l=r("k2C/"),u=r("uFGw"),_=/^[\d]{10}\.[\d]{6}$/;function p(e){return _.test(e)}var m=/^(C|G|D)[A-Z0-9]{8,}-[\d]{10}\.[\d]{6}$/;var f=r("NFsq"),b=r("hgYl");var h=r("btH0"),O=r("+Sjy"),g=r("Er5K"),v=r("wCpp"),y="ROUTE_ENTITY",I="ROUTE_FLEX_THREAD",S="ROUTE_FLEX_DETAILS",w="ROUTE_FLEX_ACTIVITY_PANE",j="ROUTE_FLEX_SAVED",A="ROUTE_FLEX_FILES",E="ROUTE_FLEX_FILE",T="ROUTE_FLEX_USER_GROUPS",P="ROUTE_FLEX_USER_GROUP",k="ROUTE_FLEX_WHATS_NEW",R="ROUTE_FLEX_SHORTCUTS",D="ROUTE_FLEX_DIRECTORY",C="ROUTE_FLEX_USER_PROFILE",N="ROUTE_FLEX_USER_CALENDAR",L="ROUTE_FLEX_CHANNEL_INSPECTOR",U={"stars-page":"saved-page"},M={entityId:e=>Object(o.a)(e)||Object(i.a)(e)||Object(s.a)(e)||Object(c.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(h.a)(e)||Object(O.h)(e)||(e=>Object.keys(U).includes(e))(e),appOrServiceId:e=>Object(i.a)(e)||Object(o.a)(e),timestamp:p,threadId:function(e){return m.test(e)},replyTs:p,sectionId:function(e){return Object(f.a)(b.a,e)||""===e},tabId:e=>Object(g.c)(e),draftId:v.c,channelId:s.a},W={[a.a]:{paths:["/"]},[y]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId"]},[I]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info"]},[L]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[S]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId","/:entityId/:draftId/details"]},[w]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity"]},ROUTE_FLEX_STARRED:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items"]},[j]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved"]},[A]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files"]},[E]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId"]},[T]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups"]},[P]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId"]},[k]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new"]},[R]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts"]},[D]:{paths:["/:entityId/directory","/:entityId/:timestamp/directory","/:entityId/:tabId/directory","/:entityId/:draftId/directory"]},[C]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId"]},[N]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar"]}};function B(){Object(n.d)(M,W)}},sekS:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r("rePB"),a=r("cewN"),o=r("cW5R");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var s=["force_cold_boot"];function c(e,t){var r={},c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.c)(t),{},Object(a.d)(e));return Object.keys(c).forEach(e=>{if(e.startsWith("force_")&&!s.includes(e)&&c[e]){var t=e.slice(6);c[e].split(",").forEach(e=>{var n="all",a=e,o=e.indexOf(":");o>=0&&(n=e.slice(0,o),a=e.slice(o+1)),r[n]||(r[n]={}),r[n][t]=a})}}),r}},tYiI:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=/^@?A[A-Z0-9]{8,}$/;function a(e){return n.test(e)}},v5z3:function(e,t,r){"use strict";r.d(t,"g",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"e",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"a",function(){return l}),r.d(t,"b",function(){return d});var n,a,o,i=r("yhG8");!function(e){e.TeamName="TeamName",e.Channels="Channels",e.Invites="Invites"}(n||(n={})),function(e){e.TeamName="setup-team-name",e.Channels="setup-channels",e.Invites="setup-invites"}(a||(a={})),function(e){e.TeamName="Psetup-team-name",e.Channels="Psetup-channels",e.Invites="Psetup-invites"}(o||(o={}));var s,c=[n.TeamName,n.Channels,n.Invites];!function(e){e[e.Project=i.e.PROJECT]="Project",e[e.Team=i.e.TEAM]="Team",e[e.Announcements=i.e.ANNOUNCEMENTS]="Announcements",e[e.Brainstorming=i.e.BRAINSTORMING]="Brainstorming",e[e.Sync=i.e.SYNC]="Sync"}(s||(s={}));var d,l=[s.Project,s.Team,s.Brainstorming,s.Announcements,s.Sync];!function(e){e.channelType="generic_channel",e.channelName=""}(d||(d={}))},wCpp:function(e,t,r){"use strict";function n(e){if(e)return"draft-"+e}function a(e){if(e){var[,t]=e.match(/^draft-(.+)/)||[];return t}}function o(e){return/^draft-.+/.test(e)}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o})},wHps:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("4v0o"),a={[n.a.allUnreads]:"unreads",[n.a.allThreads]:"threads",[n.a.search]:"search"}},yhG8:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"c",function(){return s});var n="CHANNELS-ACTIONS",a="Upsert a channel, group, mpim, or im",o={ADD_CHANNEL:"Add a channel, overwriting anything previously stored with the same id",ARCHIVE_CHANNEL:"Archive channel",BULK_ADD_CHANNELS:"Bulk add channels, overwriting anything previously stored with the same id",BULK_UPDATE_CHANNELS:"Update a few keys for multiple channels",CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS:"Legacy hack: set the _show_in_list_even_though_no_unreads for all channels to be false",CONVERT_TO_PRIVATE:"Convert a channel to private",CONVERT_TO_SHARED:"Convert a channel to an enterprise shared channel (cross-workspace or org-wide)",CHANNEL_UPDATED:"Channel was updated (privacy, permissions or externally shared status changed)",ORG_ACCESS:"Update the teams this channel is shared with on your organization or update to cross-workspace or org-wide",LEAVE_CHANNEL:"Leave channel",RENAME_CHANNEL:"Rename a channel",SET_PURPOSE:"Set a channel purpose",SET_STAR:"Set starred state for a channel",SET_TOPIC:"Set a channel topic",UNARCHIVE_CHANNEL:"Unarchive a channel",UPDATE_ONE_KEY:"Update one key for a channel by id",UPDATE_WORKSPACE_ACCESS:"Update workspace access for a channel",UPSERT_CHANNEL:a,CHILD_CHANNEL_CREATED:"Archive old private channel and replace it with new private channel with same name"},i={WELCOME:"welcome",ANNOUNCEMENTS:"announcements",SYNC:"sync",PROJECT:"project",TEAM:"team",BRAINSTORMING:"brainstorming",DM:"dm"},s={GENERIC:"generic"}}},[["d/52",2,4,142,3,8]]]);